!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/custom-mapbox-layer/",e(e.s=53)}([function(t,n,e){var r=e(5),o=e(6),i=e(7),u=e(4),a=e(8),s=[0,0];t.exports.computeMiter=function(t,n,e,u,c){return r(t,e,u),i(t,t),o(n,-t[1],t[0]),o(s,-e[1],e[0]),c/a(n,s)},t.exports.normal=function(t,n){return o(t,-n[1],n[0]),t},t.exports.direction=function(t,n,e){return u(t,n,e),i(t,t),t}},function(t,n,e){"use strict";(function(n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(t,n){if(t===n)return 0;for(var e=t.length,r=n.length,o=0,i=Math.min(e,r);o<i;++o)if(t[o]!==n[o]){e=t[o],r=n[o];break}return e<r?-1:r<e?1:0}function o(t){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var i=e(18),u=Object.prototype.hasOwnProperty,a=Array.prototype.slice,s="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function l(t){return!o(t)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var f=t.exports=m,h=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(i.isFunction(t)){if(s)return t.name;var n=t.toString().match(h);return n&&n[1]}}function y(t,n){return"string"==typeof t?t.length<n?t:t.slice(0,n):t}function g(t){if(s||!i.isFunction(t))return i.inspect(t);var n=p(t);return"[Function"+(n?": "+n:"")+"]"}function d(t,n,e,r,o){throw new f.AssertionError({message:e,actual:t,expected:n,operator:r,stackStartFunction:o})}function m(t,n){t||d(t,!0,n,"==",f.ok)}function v(t,n,e,u){if(t===n)return!0;if(o(t)&&o(n))return 0===r(t,n);if(i.isDate(t)&&i.isDate(n))return t.getTime()===n.getTime();if(i.isRegExp(t)&&i.isRegExp(n))return t.source===n.source&&t.global===n.global&&t.multiline===n.multiline&&t.lastIndex===n.lastIndex&&t.ignoreCase===n.ignoreCase;if(null!==t&&"object"==typeof t||null!==n&&"object"==typeof n){if(l(t)&&l(n)&&c(t)===c(n)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(n.buffer));if(o(t)!==o(n))return!1;var s=(u=u||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&&s===u.expected.indexOf(n)||(u.actual.push(t),u.expected.push(n),function(t,n,e,r){if(null==t||null==n)return!1;if(i.isPrimitive(t)||i.isPrimitive(n))return t===n;if(e&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(n))return!1;var o=x(t),u=x(n);if(o&&!u||!o&&u)return!1;if(o)return t=a.call(t),n=a.call(n),v(t,n,e);var s,c,l=M(t),f=M(n);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(s=l[c],!v(t[s],n[s],e,r))return!1;return!0}(t,n,e,u))}return e?t===n:t==n}function x(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,n){if(!t||!n)return!1;if("[object RegExp]"==Object.prototype.toString.call(n))return n.test(t);try{if(t instanceof n)return!0}catch(t){}return!Error.isPrototypeOf(n)&&!0===n.call({},t)}function b(t,n,e,r){var o;if("function"!=typeof n)throw new TypeError('"block" argument must be a function');"string"==typeof e&&(r=e,e=null),o=function(t){var n;try{t()}catch(t){n=t}return n}(n),r=(e&&e.name?" ("+e.name+").":".")+(r?" "+r:"."),t&&!o&&d(o,e,"Missing expected exception"+r);var u="string"==typeof r,a=!t&&o&&!e;if((!t&&i.isError(o)&&u&&w(o,e)||a)&&d(o,e,"Got unwanted exception"+r),t&&o&&e&&!w(o,e)||!t&&o)throw o}f.AssertionError=function(t){var n;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=y(g((n=this).actual),128)+" "+n.operator+" "+y(g(n.expected),128),this.generatedMessage=!0);var e=t.stackStartFunction||d;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var o=r.stack,i=p(e),u=o.indexOf("\n"+i);if(u>=0){var a=o.indexOf("\n",u+1);o=o.substring(a+1)}this.stack=o}}},i.inherits(f.AssertionError,Error),f.fail=d,f.ok=m,f.equal=function(t,n,e){t!=n&&d(t,n,e,"==",f.equal)},f.notEqual=function(t,n,e){t==n&&d(t,n,e,"!=",f.notEqual)},f.deepEqual=function(t,n,e){v(t,n,!1)||d(t,n,e,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,n,e){v(t,n,!0)||d(t,n,e,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,n,e){v(t,n,!1)&&d(t,n,e,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(n,e,r){v(n,e,!0)&&d(n,e,r,"notDeepStrictEqual",t)},f.strictEqual=function(t,n,e){t!==n&&d(t,n,e,"===",f.strictEqual)},f.notStrictEqual=function(t,n,e){t===n&&d(t,n,e,"!==",f.notStrictEqual)},f.throws=function(t,n,e){b(!0,t,n,e)},f.doesNotThrow=function(t,n,e){b(!1,t,n,e)},f.ifError=function(t){if(t)throw t};var M=Object.keys||function(t){var n=[];for(var e in t)u.call(t,e)&&n.push(e);return n}}).call(this,e(17))},function(t,n,e){t.exports={EPSILON:e(9),create:e(10),clone:e(22),fromValues:e(23),copy:e(24),set:e(6),equals:e(25),exactEquals:e(26),add:e(5),subtract:e(4),sub:e(27),multiply:e(11),mul:e(28),divide:e(12),div:e(29),inverse:e(30),min:e(31),max:e(32),rotate:e(33),floor:e(34),ceil:e(35),round:e(36),scale:e(37),scaleAndAdd:e(38),distance:e(13),dist:e(39),squaredDistance:e(14),sqrDist:e(40),length:e(15),len:e(41),squaredLength:e(16),sqrLen:e(42),negate:e(43),normalize:e(7),dot:e(8),cross:e(44),lerp:e(45),random:e(46),transformMat2:e(47),transformMat2d:e(48),transformMat3:e(49),transformMat4:e(50),forEach:e(51),limit:e(52)}},function(t,n,e){"use strict";function r(t,n){this.x=t,this.y=n}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,n){return this.clone()._rotateAround(t,n)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var n=t.x-this.x,e=t.y-this.y;return n*n+e*e},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,n){return Math.atan2(this.x*n-this.y*t,this.x*t+this.y*n)},_matMult:function(t){var n=t[0]*this.x+t[1]*this.y,e=t[2]*this.x+t[3]*this.y;return this.x=n,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var n=Math.cos(t),e=Math.sin(t),r=n*this.x-e*this.y,o=e*this.x+n*this.y;return this.x=r,this.y=o,this},_rotateAround:function(t,n){var e=Math.cos(t),r=Math.sin(t),o=n.x+e*(this.x-n.x)-r*(this.y-n.y),i=n.y+r*(this.x-n.x)+e*(this.y-n.y);return this.x=o,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},function(t,n){t.exports=function(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}},function(t,n){t.exports=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t}},function(t,n){t.exports=function(t,n,e){return t[0]=n,t[1]=e,t}},function(t,n){t.exports=function(t,n){var e=n[0],r=n[1],o=e*e+r*r;o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o);return t}},function(t,n){t.exports=function(t,n){return t[0]*n[0]+t[1]*n[1]}},function(t,n){t.exports=1e-6},function(t,n){t.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(t,n){t.exports=function(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}},function(t,n){t.exports=function(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}},function(t,n){t.exports=function(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}},function(t,n){t.exports=function(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}},function(t,n){t.exports=function(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)}},function(t,n){t.exports=function(t){var n=t[0],e=t[1];return n*n+e*e}},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var n=Object.keys(t),e={},r=0;r<n.length;r++)e[n[r]]=Object.getOwnPropertyDescriptor(t,n[r]);return e},o=/%[sdj%]/g;n.format=function(t){if(!m(t)){for(var n=[],e=0;e<arguments.length;e++)n.push(a(arguments[e]));return n.join(" ")}e=1;for(var r=arguments,i=r.length,u=String(t).replace(o,function(t){if("%%"===t)return"%";if(e>=i)return t;switch(t){case"%s":return String(r[e++]);case"%d":return Number(r[e++]);case"%j":try{return JSON.stringify(r[e++])}catch(t){return"[Circular]"}default:return t}}),s=r[e];e<i;s=r[++e])g(s)||!w(s)?u+=" "+s:u+=" "+a(s);return u},n.deprecate=function(e,r){if(void 0!==t&&!0===t.noDeprecation)return e;if(void 0===t)return function(){return n.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return e.apply(this,arguments)}};var i,u={};function a(t,e){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(e)?r.showHidden=e:e&&n._extend(r,e),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),l(r,t,r.depth)}function s(t,n){var e=a.styles[n];return e?"["+a.colors[e][0]+"m"+t+"["+a.colors[e][1]+"m":t}function c(t,n){return t}function l(t,e,r){if(t.customInspect&&e&&S(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(r,t);return m(o)||(o=l(t,o,r)),o}var i=function(t,n){if(v(n))return t.stylize("undefined","undefined");if(m(n)){var e="'"+JSON.stringify(n).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(e,"string")}if(d(n))return t.stylize(""+n,"number");if(y(n))return t.stylize(""+n,"boolean");if(g(n))return t.stylize("null","null")}(t,e);if(i)return i;var u=Object.keys(e),a=function(t){var n={};return t.forEach(function(t,e){n[t]=!0}),n}(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(e)),M(e)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(e);if(0===u.length){if(S(e)){var s=e.name?": "+e.name:"";return t.stylize("[Function"+s+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(b(e))return t.stylize(Date.prototype.toString.call(e),"date");if(M(e))return f(e)}var c,w="",P=!1,E=["{","}"];(p(e)&&(P=!0,E=["[","]"]),S(e))&&(w=" [Function"+(e.name?": "+e.name:"")+"]");return x(e)&&(w=" "+RegExp.prototype.toString.call(e)),b(e)&&(w=" "+Date.prototype.toUTCString.call(e)),M(e)&&(w=" "+f(e)),0!==u.length||P&&0!=e.length?r<0?x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),c=P?function(t,n,e,r,o){for(var i=[],u=0,a=n.length;u<a;++u)j(n,String(u))?i.push(h(t,n,e,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(t,n,e,r,o,!0))}),i}(t,e,r,a,u):u.map(function(n){return h(t,e,r,a,n,P)}),t.seen.pop(),function(t,n,e){if(t.reduce(function(t,n){return 0,n.indexOf("\n")>=0&&0,t+n.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return e[0]+(""===n?"":n+"\n ")+" "+t.join(",\n  ")+" "+e[1];return e[0]+n+" "+t.join(", ")+" "+e[1]}(c,w,E)):E[0]+w+E[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,n,e,r,o,i){var u,a,s;if((s=Object.getOwnPropertyDescriptor(n,o)||{value:n[o]}).get?a=s.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):s.set&&(a=t.stylize("[Setter]","special")),j(r,o)||(u="["+o+"]"),a||(t.seen.indexOf(s.value)<0?(a=g(e)?l(t,s.value,null):l(t,s.value,e-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),v(u)){if(i&&o.match(/^\d+$/))return a;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+a}function p(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function g(t){return null===t}function d(t){return"number"==typeof t}function m(t){return"string"==typeof t}function v(t){return void 0===t}function x(t){return w(t)&&"[object RegExp]"===P(t)}function w(t){return"object"==typeof t&&null!==t}function b(t){return w(t)&&"[object Date]"===P(t)}function M(t){return w(t)&&("[object Error]"===P(t)||t instanceof Error)}function S(t){return"function"==typeof t}function P(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}n.debuglog=function(e){if(v(i)&&(i=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!u[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var r=t.pid;u[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else u[e]=function(){};return u[e]},n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=y,n.isNull=g,n.isNullOrUndefined=function(t){return null==t},n.isNumber=d,n.isString=m,n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=v,n.isRegExp=x,n.isObject=w,n.isDate=b,n.isError=M,n.isFunction=S,n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=e(20);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(t,n){return Object.prototype.hasOwnProperty.call(t,n)}n.log=function(){var t,e;console.log("%s - %s",(t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":"),[t.getDate(),O[t.getMonth()],e].join(" ")),n.format.apply(n,arguments))},n.inherits=e(21),n._extend=function(t,n){if(!n||!w(n))return t;for(var e=Object.keys(n),r=e.length;r--;)t[e[r]]=n[e[r]];return t};var _="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function z(t,n){if(!t){var e=new Error("Promise was rejected with a falsy value");e.reason=t,t=e}return n(t)}n.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(_&&t[_]){var n;if("function"!=typeof(n=t[_]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(n,_,{value:n,enumerable:!1,writable:!1,configurable:!0}),n}function n(){for(var n,e,r=new Promise(function(t,r){n=t,e=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,r){t?e(t):n(r)});try{t.apply(this,o)}catch(t){e(t)}return r}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),_&&Object.defineProperty(n,_,{value:n,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(n,r(t))},n.promisify.custom=_,n.callbackify=function(n){if("function"!=typeof n)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var o=e.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,u=function(){return o.apply(i,arguments)};n.apply(this,e).then(function(n){t.nextTick(u,null,n)},function(n){t.nextTick(z,n,u)})}return Object.setPrototypeOf(e,Object.getPrototypeOf(n)),Object.defineProperties(e,r(n)),e}}).call(this,e(19))},function(t,n){var e,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=a(h);l=!0;for(var n=c.length;n;){for(s=c,c=[];++f<n;)s&&s[f].run();f=-1,n=c.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function y(t,n){this.fun=t,this.array=n}function g(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];c.push(new y(t,n)),1!==c.length||l||a(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,n){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,n){"function"==typeof Object.create?t.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,n){t.super_=n;var e=function(){};e.prototype=n.prototype,t.prototype=new e,t.prototype.constructor=t}},function(t,n){t.exports=function(t){var n=new Float32Array(2);return n[0]=t[0],n[1]=t[1],n}},function(t,n){t.exports=function(t,n){var e=new Float32Array(2);return e[0]=t,e[1]=n,e}},function(t,n){t.exports=function(t,n){return t[0]=n[0],t[1]=n[1],t}},function(t,n,e){t.exports=function(t,n){var e=t[0],o=t[1],i=n[0],u=n[1];return Math.abs(e-i)<=r*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(o-u)<=r*Math.max(1,Math.abs(o),Math.abs(u))};var r=e(9)},function(t,n){t.exports=function(t,n){return t[0]===n[0]&&t[1]===n[1]}},function(t,n,e){t.exports=e(4)},function(t,n,e){t.exports=e(11)},function(t,n,e){t.exports=e(12)},function(t,n){t.exports=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}},function(t,n){t.exports=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t}},function(t,n){t.exports=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t}},function(t,n){t.exports=function(t,n,e){var r=Math.cos(e),o=Math.sin(e),i=n[0],u=n[1];return t[0]=i*r-u*o,t[1]=i*o+u*r,t}},function(t,n){t.exports=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}},function(t,n){t.exports=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}},function(t,n){t.exports=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}},function(t,n){t.exports=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t}},function(t,n){t.exports=function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t}},function(t,n,e){t.exports=e(13)},function(t,n,e){t.exports=e(14)},function(t,n,e){t.exports=e(15)},function(t,n,e){t.exports=e(16)},function(t,n){t.exports=function(t,n){return t[0]=-n[0],t[1]=-n[1],t}},function(t,n){t.exports=function(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t}},function(t,n){t.exports=function(t,n,e,r){var o=n[0],i=n[1];return t[0]=o+r*(e[0]-o),t[1]=i+r*(e[1]-i),t}},function(t,n){t.exports=function(t,n){n=n||1;var e=2*Math.random()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t}},function(t,n){t.exports=function(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[2]*o,t[1]=e[1]*r+e[3]*o,t}},function(t,n){t.exports=function(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[2]*o+e[4],t[1]=e[1]*r+e[3]*o+e[5],t}},function(t,n){t.exports=function(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[3]*o+e[6],t[1]=e[1]*r+e[4]*o+e[7],t}},function(t,n){t.exports=function(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[4]*o+e[12],t[1]=e[1]*r+e[5]*o+e[13],t}},function(t,n,e){t.exports=function(t,n,e,o,i,u){var a,s;n||(n=2);e||(e=0);s=o?Math.min(o*n+e,t.length):t.length;for(a=e;a<s;a+=n)r[0]=t[a],r[1]=t[a+1],i(r,r,u),t[a]=r[0],t[a+1]=r[1];return t};var r=e(10)()},function(t,n){t.exports=function(t,n,e){var r=n[0]*n[0]+n[1]*n[1];if(r>e*e){var o=Math.sqrt(r);t[0]=n[0]/o*e,t[1]=n[1]/o*e}else t[0]=n[0],t[1]=n[1];return t}},function(t,n,e){"use strict";function r(t,n,e,r,o,i){var u=o-e,a=i-r;if(0!==u||0!==a){var s=((t-e)*u+(n-r)*a)/(u*u+a*a);s>1?(e=o,r=i):s>0&&(e+=u*s,r+=a*s)}return(u=t-e)*u+(a=n-r)*a}function o(t,n,e,r){var o={id:void 0===t?null:t,type:n,geometry:e,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var n=t.geometry,e=t.type;if("Point"===e||"MultiPoint"===e||"LineString"===e)i(t,n);else if("Polygon"===e||"MultiLineString"===e)for(var r=0;r<n.length;r++)i(t,n[r]);else if("MultiPolygon"===e)for(r=0;r<n.length;r++)for(var o=0;o<n[r].length;o++)i(t,n[r][o])}(o),o}function i(t,n){for(var e=0;e<n.length;e+=3)t.minX=Math.min(t.minX,n[e]),t.minY=Math.min(t.minY,n[e+1]),t.maxX=Math.max(t.maxX,n[e]),t.maxY=Math.max(t.maxY,n[e+1])}function u(t,n,e,r){if(n.geometry){var i=n.geometry.coordinates,l=n.geometry.type,f=Math.pow(e.tolerance/((1<<e.maxZoom)*e.extent),2),h=[],p=n.id;if(e.promoteId?p=n.properties[e.promoteId]:e.generateId&&(p=r||0),"Point"===l)a(i,h);else if("MultiPoint"===l)for(var y=0;y<i.length;y++)a(i[y],h);else if("LineString"===l)s(i,h,f,!1);else if("MultiLineString"===l){if(e.lineMetrics){for(y=0;y<i.length;y++)h=[],s(i[y],h,f,!1),t.push(o(p,"LineString",h,n.properties));return}c(i,h,f,!1)}else if("Polygon"===l)c(i,h,f,!0);else{if("MultiPolygon"!==l){if("GeometryCollection"===l){for(y=0;y<n.geometry.geometries.length;y++)u(t,{id:p,geometry:n.geometry.geometries[y],properties:n.properties},e,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(y=0;y<i.length;y++){var g=[];c(i[y],g,f,!0),h.push(g)}}t.push(o(p,l,h,n.properties))}}function a(t,n){n.push(l(t[0])),n.push(f(t[1])),n.push(0)}function s(t,n,e,o){for(var i,u,a=0,s=0;s<t.length;s++){var c=l(t[s][0]),h=f(t[s][1]);n.push(c),n.push(h),n.push(0),s>0&&(a+=o?(i*h-c*u)/2:Math.sqrt(Math.pow(c-i,2)+Math.pow(h-u,2))),i=c,u=h}var p=n.length-3;n[2]=1,function t(n,e,o,i){for(var u,a=i,s=o-e>>1,c=o-e,l=n[e],f=n[e+1],h=n[o],p=n[o+1],y=e+3;y<o;y+=3){var g=r(n[y],n[y+1],l,f,h,p);if(g>a)u=y,a=g;else if(g===a){var d=Math.abs(y-s);d<c&&(u=y,c=d)}}a>i&&(u-e>3&&t(n,e,u,i),n[u+2]=a,o-u>3&&t(n,u,o,i))}(n,0,p,e),n[p+2]=1,n.size=Math.abs(a),n.start=0,n.end=n.size}function c(t,n,e,r){for(var o=0;o<t.length;o++){var i=[];s(t[o],i,e,r),n.push(i)}}function l(t){return t/360+.5}function f(t){var n=Math.sin(t*Math.PI/180),e=.5-.25*Math.log((1+n)/(1-n))/Math.PI;return e<0?0:e>1?1:e}function h(t,n,e,r,i,u,a,s){if(r/=n,u>=(e/=n)&&a<r)return t;if(a<e||u>=r)return null;for(var c=[],l=0;l<t.length;l++){var f=t[l],h=f.geometry,g=f.type,m=0===i?f.minX:f.minY,v=0===i?f.maxX:f.maxY;if(m>=e&&v<r)c.push(f);else if(!(v<e||m>=r)){var x=[];if("Point"===g||"MultiPoint"===g)p(h,x,e,r,i);else if("LineString"===g)y(h,x,e,r,i,!1,s.lineMetrics);else if("MultiLineString"===g)d(h,x,e,r,i,!1);else if("Polygon"===g)d(h,x,e,r,i,!0);else if("MultiPolygon"===g)for(var w=0;w<h.length;w++){var b=[];d(h[w],b,e,r,i,!0),b.length&&x.push(b)}if(x.length){if(s.lineMetrics&&"LineString"===g){for(w=0;w<x.length;w++)c.push(o(f.id,g,x[w],f.tags));continue}"LineString"!==g&&"MultiLineString"!==g||(1===x.length?(g="LineString",x=x[0]):g="MultiLineString"),"Point"!==g&&"MultiPoint"!==g||(g=3===x.length?"Point":"MultiPoint"),c.push(o(f.id,g,x,f.tags))}}}return c.length?c:null}function p(t,n,e,r,o){for(var i=0;i<t.length;i+=3){var u=t[i+o];u>=e&&u<=r&&(n.push(t[i]),n.push(t[i+1]),n.push(t[i+2]))}}function y(t,n,e,r,o,i,u){for(var a,s,c=g(t),l=0===o?v:x,f=t.start,h=0;h<t.length-3;h+=3){var p=t[h],y=t[h+1],d=t[h+2],w=t[h+3],b=t[h+4],M=0===o?p:y,S=0===o?w:b,P=!1;u&&(a=Math.sqrt(Math.pow(p-w,2)+Math.pow(y-b,2))),M<e?S>e&&(s=l(c,p,y,w,b,e),u&&(c.start=f+a*s)):M>r?S<r&&(s=l(c,p,y,w,b,r),u&&(c.start=f+a*s)):m(c,p,y,d),S<e&&M>=e&&(s=l(c,p,y,w,b,e),P=!0),S>r&&M<=r&&(s=l(c,p,y,w,b,r),P=!0),!i&&P&&(u&&(c.end=f+a*s),n.push(c),c=g(t)),u&&(f+=a)}var E=t.length-3;p=t[E],y=t[E+1],d=t[E+2],(M=0===o?p:y)>=e&&M<=r&&m(c,p,y,d),E=c.length-3,i&&E>=3&&(c[E]!==c[0]||c[E+1]!==c[1])&&m(c,c[0],c[1],c[2]),c.length&&n.push(c)}function g(t){var n=[];return n.size=t.size,n.start=t.start,n.end=t.end,n}function d(t,n,e,r,o,i){for(var u=0;u<t.length;u++)y(t[u],n,e,r,o,i,!1)}function m(t,n,e,r){t.push(n),t.push(e),t.push(r)}function v(t,n,e,r,o,i){var u=(i-n)/(r-n);return t.push(i),t.push(e+(o-e)*u),t.push(1),u}function x(t,n,e,r,o,i){var u=(i-e)/(o-e);return t.push(n+(r-n)*u),t.push(i),t.push(1),u}function w(t,n){for(var e=[],r=0;r<t.length;r++){var i,u=t[r],a=u.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=b(u.geometry,n);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<u.geometry.length;s++)i.push(b(u.geometry[s],n))}else if("MultiPolygon"===a)for(i=[],s=0;s<u.geometry.length;s++){for(var c=[],l=0;l<u.geometry[s].length;l++)c.push(b(u.geometry[s][l],n));i.push(c)}e.push(o(u.id,a,i,u.tags))}return e}function b(t,n){var e=[];e.size=t.size,void 0!==t.start&&(e.start=t.start,e.end=t.end);for(var r=0;r<t.length;r+=3)e.push(t[r]+n,t[r+1],t[r+2]);return e}function M(t,n){if(t.transformed)return t;var e,r,o,i=1<<t.z,u=t.x,a=t.y;for(e=0;e<t.features.length;e++){var s=t.features[e],c=s.geometry,l=s.type;if(s.geometry=[],1===l)for(r=0;r<c.length;r+=2)s.geometry.push(S(c[r],c[r+1],n,i,u,a));else for(r=0;r<c.length;r++){var f=[];for(o=0;o<c[r].length;o+=2)f.push(S(c[r][o],c[r][o+1],n,i,u,a));s.geometry.push(f)}}return t.transformed=!0,t}function S(t,n,e,r,o,i){return[Math.round(e*(t*r-o)),Math.round(e*(n*r-i))]}function P(t,n,e,r,o){for(var i=n===o.maxZoom?0:o.tolerance/((1<<n)*o.extent),u={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:e,y:r,z:n,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},a=0;a<t.length;a++){u.numFeatures++,E(u,t[a],i,o);var s=t[a].minX,c=t[a].minY,l=t[a].maxX,f=t[a].maxY;s<u.minX&&(u.minX=s),c<u.minY&&(u.minY=c),l>u.maxX&&(u.maxX=l),f>u.maxY&&(u.maxY=f)}return u}function E(t,n,e,r){var o=n.geometry,i=n.type,u=[];if("Point"===i||"MultiPoint"===i)for(var a=0;a<o.length;a+=3)u.push(o[a]),u.push(o[a+1]),t.numPoints++,t.numSimplified++;else if("LineString"===i)O(u,o,t,e,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(a=0;a<o.length;a++)O(u,o[a],t,e,"Polygon"===i,0===a);else if("MultiPolygon"===i)for(var s=0;s<o.length;s++){var c=o[s];for(a=0;a<c.length;a++)O(u,c[a],t,e,!0,0===a)}if(u.length){var l=n.tags||null;if("LineString"===i&&r.lineMetrics){for(var f in l={},n.tags)l[f]=n.tags[f];l.mapbox_clip_start=o.start/o.size,l.mapbox_clip_end=o.end/o.size}var h={geometry:u,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:l};null!==n.id&&(h.id=n.id),t.features.push(h)}}function O(t,n,e,r,o,i){var u=r*r;if(r>0&&n.size<(o?u:r))e.numPoints+=n.length/3;else{for(var a=[],s=0;s<n.length;s+=3)(0===r||n[s+2]>u)&&(e.numSimplified++,a.push(n[s]),a.push(n[s+1])),e.numPoints++;o&&function(t,n){for(var e=0,r=0,o=t.length,i=o-2;r<o;i=r,r+=2)e+=(t[r]-t[i])*(t[r+1]+t[i+1]);if(e>0===n)for(r=0,o=t.length;r<o/2;r+=2){var u=t[r],a=t[r+1];t[r]=t[o-2-r],t[r+1]=t[o-1-r],t[o-2-r]=u,t[o-1-r]=a}}(a,i),t.push(a)}}function j(t,n){return new _(t,n)}function _(t,n){var e=(n=this.options=function(t,n){for(var e in n)t[e]=n[e];return t}(Object.create(this.options),n)).debug;if(e&&console.time("preprocess data"),n.maxZoom<0||n.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(n.promoteId&&n.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,n){var e=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)u(e,t.features[r],n,r);else"Feature"===t.type?u(e,t,n):u(e,{geometry:t},n);return e}(t,n);this.tiles={},this.tileCoords=[],e&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",n.indexMaxZoom,n.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,n){var e=n.buffer/n.extent,r=t,o=h(t,1,-1-e,e,0,-1,2,n),i=h(t,1,1-e,2+e,0,-1,2,n);return(o||i)&&(r=h(t,1,-e,1+e,0,-1,2,n)||[],o&&(r=w(o,1).concat(r)),i&&(r=r.concat(w(i,-1)))),r}(r,n)).length&&this.splitTile(r,0,0,0),e&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function z(t,n,e){return 32*((1<<t)*e+n)+t}e.r(n),_.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},_.prototype.splitTile=function(t,n,e,r,o,i,u){for(var a=[t,n,e,r],s=this.options,c=s.debug;a.length;){r=a.pop(),e=a.pop(),n=a.pop(),t=a.pop();var l=1<<n,f=z(n,e,r),p=this.tiles[f];if(!p&&(c>1&&console.time("creation"),p=this.tiles[f]=P(t,n,e,r,s),this.tileCoords.push({z:n,x:e,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",n,e,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var y="z"+n;this.stats[y]=(this.stats[y]||0)+1,this.total++}if(p.source=t,o){if(n===s.maxZoom||n===o)continue;var g=1<<o-n;if(e!==Math.floor(i/g)||r!==Math.floor(u/g))continue}else if(n===s.indexMaxZoom||p.numPoints<=s.indexMaxPoints)continue;if(p.source=null,0!==t.length){c>1&&console.time("clipping");var d,m,v,x,w,b,M=.5*s.buffer/s.extent,S=.5-M,E=.5+M,O=1+M;d=m=v=x=null,w=h(t,l,e-M,e+E,0,p.minX,p.maxX,s),b=h(t,l,e+S,e+O,0,p.minX,p.maxX,s),t=null,w&&(d=h(w,l,r-M,r+E,1,p.minY,p.maxY,s),m=h(w,l,r+S,r+O,1,p.minY,p.maxY,s),w=null),b&&(v=h(b,l,r-M,r+E,1,p.minY,p.maxY,s),x=h(b,l,r+S,r+O,1,p.minY,p.maxY,s),b=null),c>1&&console.timeEnd("clipping"),a.push(d||[],n+1,2*e,2*r),a.push(m||[],n+1,2*e,2*r+1),a.push(v||[],n+1,2*e+1,2*r),a.push(x||[],n+1,2*e+1,2*r+1)}}},_.prototype.getTile=function(t,n,e){var r=this.options,o=r.extent,i=r.debug;if(t<0||t>24)return null;var u=1<<t,a=z(t,n=(n%u+u)%u,e);if(this.tiles[a])return M(this.tiles[a],o);i>1&&console.log("drilling down to z%d-%d-%d",t,n,e);for(var s,c=t,l=n,f=e;!s&&c>0;)c--,l=Math.floor(l/2),f=Math.floor(f/2),s=this.tiles[z(c,l,f)];return s&&s.source?(i>1&&console.log("found parent tile z%d-%d-%d",c,l,f),i>1&&console.time("drilling down"),this.splitTile(s.source,c,l,f,t,n,e),i>1&&console.timeEnd("drilling down"),this.tiles[a]?M(this.tiles[a],o):null):null};var L=function(t,n,e,r){return new(e||(e=Promise))(function(o,i){function u(t){try{s(r.next(t))}catch(t){i(t)}}function a(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new e(function(n){n(t.value)}).then(u,a)}s((r=r.apply(t,n||[])).next())})},T=function(t,n){var e,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=n.call(t,u)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function A(t){var n=t.url,e=t.type,r=t.isCluster;return L(this,void 0,void 0,function(){var t,o;return T(this,function(i){switch(i.label){case 0:return[4,fetch(n)];case 1:return t=i.sent(),"json"!==e&&"geojson"!==e?[3,4]:r?[3,3]:(o=j,[4,t.json()]);case 2:return[2,o.apply(void 0,[i.sent(),{maxZoom:24,tolerance:30,extent:8192}])];case 3:return[3,5];case 4:i.label=5;case 5:return[2]}})})}"undefined"!=typeof Float32Array?Float32Array:Array,Math.random;Math.PI;function q(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function k(t,n,e){var r=n[0],o=n[1],i=n[2],u=n[3],a=n[4],s=n[5],c=n[6],l=n[7],f=n[8],h=n[9],p=n[10],y=n[11],g=n[12],d=n[13],m=n[14],v=n[15],x=e[0],w=e[1],b=e[2],M=e[3];return t[0]=x*r+w*a+b*f+M*g,t[1]=x*o+w*s+b*h+M*d,t[2]=x*i+w*c+b*p+M*m,t[3]=x*u+w*l+b*y+M*v,x=e[4],w=e[5],b=e[6],M=e[7],t[4]=x*r+w*a+b*f+M*g,t[5]=x*o+w*s+b*h+M*d,t[6]=x*i+w*c+b*p+M*m,t[7]=x*u+w*l+b*y+M*v,x=e[8],w=e[9],b=e[10],M=e[11],t[8]=x*r+w*a+b*f+M*g,t[9]=x*o+w*s+b*h+M*d,t[10]=x*i+w*c+b*p+M*m,t[11]=x*u+w*l+b*y+M*v,x=e[12],w=e[13],b=e[14],M=e[15],t[12]=x*r+w*a+b*f+M*g,t[13]=x*o+w*s+b*h+M*d,t[14]=x*i+w*c+b*p+M*m,t[15]=x*u+w*l+b*y+M*v,t}var I=e(3),N=e.n(I),Z=function(){function t(t,n){t&&(n?this.setSouthWest(t).setNorthEast(n):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}return t.prototype.setNorthEast=function(t){return this._ne=t instanceof F?new F(t.lng,t.lat):F.convert(t),this},t.prototype.setSouthWest=function(t){return this._sw=t instanceof F?new F(t.lng,t.lat):F.convert(t),this},t.prototype.extend=function(n){var e,r,o=this._sw,i=this._ne;if(n instanceof F)e=n,r=n;else{if(!(n instanceof t))return Array.isArray(n)?n.every(Array.isArray)?this.extend(t.convert(n)):this.extend(F.convert(n)):this;if(e=n._sw,r=n._ne,!e||!r)return this}return o||i?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),i.lng=Math.max(r.lng,i.lng),i.lat=Math.max(r.lat,i.lat)):(this._sw=new F(e.lng,e.lat),this._ne=new F(r.lng,r.lat)),this},t.prototype.getCenter=function(){return new F((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},t.prototype.getSouthWest=function(){return this._sw},t.prototype.getNorthEast=function(){return this._ne},t.prototype.getNorthWest=function(){return new F(this.getWest(),this.getNorth())},t.prototype.getSouthEast=function(){return new F(this.getEast(),this.getSouth())},t.prototype.getWest=function(){return this._sw.lng},t.prototype.getSouth=function(){return this._sw.lat},t.prototype.getEast=function(){return this._ne.lng},t.prototype.getNorth=function(){return this._ne.lat},t.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},t.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},t.prototype.isEmpty=function(){return!(this._sw&&this._ne)},t.convert=function(n){return!n||n instanceof t?n:new t(n)},t}();var F=function(){function t(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid LngLat object: ("+t+", "+n+")");if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return t.prototype.wrap=function(){return new t((n=this.lng,(i=((n-(e=-180))%(o=(r=180)-e)+o)%o+e)===e?r:i),this.lat);var n,e,r,o,i},t.prototype.toArray=function(){return[this.lng,this.lat]},t.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},t.prototype.toBounds=function(n){void 0===n&&(n=0);var e=360*n/40075017,r=e/Math.cos(Math.PI/180*this.lat);return new Z(new t(this.lng-r,this.lat-e),new t(this.lng+r,this.lat+e))},t.convert=function(n){if(n instanceof t)return n;if(Array.isArray(n)&&(2===n.length||3===n.length))return new t(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&"object"==typeof n&&null!==n)return new t(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},t}();function D(t){return 2*Math.PI*6378137*Math.cos(t*Math.PI/180)}function Y(t){var n=180-360*t;return 360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90}var B=function(){function t(t,n,e){void 0===e&&(e=0),this.x=+t,this.y=+n,this.z=+e}return t.fromLngLat=function(n,e){void 0===e&&(e=0);var r,o=F.convert(n);return new t((180+o.lng)/360,(r=o.lat,(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360),function(t,n){return t/D(n)}(e,o.lat))},t.prototype.toLngLat=function(){return new F(360*this.x-180,Y(this.y))},t.prototype.toAltitude=function(){return t=this.z,n=this.y,t*D(Y(n));var t,n},t}(),X=e(1),C=e.n(X),W=8192,U=function(){function t(t,n,e){C()(t>=0&&t<=25),C()(n>=0&&n<Math.pow(2,t)),C()(e>=0&&e<Math.pow(2,t)),this.z=t,this.x=n,this.y=e,this.key=J(0,t,n,e)}return t.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},t.prototype.getTilePoint=function(t){var n=Math.pow(2,this.z);return new N.a((t.x*n-this.x)*W,(t.y*n-this.y)*W)},t}(),R=function(){return function(t,n){this.wrap=t,this.canonical=n,this.key=J(t,n.z,n.x,n.y)}}(),G=function(){function t(t,n,e,r,o){C()(t>=e),this.overscaledZ=t,this.wrap=n,this.canonical=new U(e,+r,+o),this.key=J(n,t,r,o)}return t.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},t.prototype.scaledTo=function(n){C()(n<=this.overscaledZ);var e=this.canonical.z-n;return n>this.canonical.z?new t(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new t(n,this.wrap,n,this.canonical.x>>e,this.canonical.y>>e)},t.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var n=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>n&&t.canonical.y===this.canonical.y>>n},t.prototype.children=function(n){if(this.overscaledZ>=n)return[new t(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,r=2*this.canonical.x,o=2*this.canonical.y;return[new t(e,this.wrap,e,r,o),new t(e,this.wrap,e,r+1,o),new t(e,this.wrap,e,r,o+1),new t(e,this.wrap,e,r+1,o+1)]},t.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},t.prototype.wrapped=function(){return new t(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},t.prototype.unwrapTo=function(n){return new t(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)},t.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},t.prototype.toUnwrapped=function(){return new R(this.wrap,this.canonical)},t.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},t.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new B(t.x-this.wrap,t.y))},t}();function J(t,n,e,r){(t*=2)<0&&(t=-1*t-1);var o=1<<n;return 32*(o*o*t+o*r+e)+n}function H(t,n){if(t.y>n.y){var e=t;t=n,n=e}return{x0:t.x,y0:t.y,x1:n.x,y1:n.y,dx:n.x-t.x,dy:n.y-t.y}}function $(t,n,e,r,o){var i=Math.max(e,Math.floor(n.y0)),u=Math.min(r,Math.ceil(n.y1));if(t.x0===n.x0&&t.y0===n.y0?t.x0+n.dy/t.dy*t.dx<n.x1:t.x1-n.dy/t.dy*t.dx<n.x0){var a=t;t=n,n=a}for(var s=t.dx/t.dy,c=n.dx/n.dy,l=t.dx>0?1:0,f=n.dx<0?1:0,h=i;h<u;h++){var p=s*Math.max(0,Math.min(t.dy,h+l-t.y0))+t.x0,y=c*Math.max(0,Math.min(n.dy,h+f-n.y0))+n.x0;o(Math.floor(y),Math.ceil(p),h)}}function V(t,n,e,r,o,i){var u,a=H(t,n),s=H(n,e),c=H(e,t);a.dy>s.dy&&(u=a,a=s,s=u),a.dy>c.dy&&(u=a,a=c,c=u),s.dy>c.dy&&(u=s,s=c,c=u),a.dy&&$(c,a,r,o,i),s.dy&&$(c,s,r,o,i)}Math.PI;var K=512;function Q(t){return Math.pow(2,t)}var tt=e(0),nt=e(2);function et(t,n,e,r,o){rt(n,r,-o),rt(n,r,o),t.push(e),t.push(e)}function rt(t,n,e){t.push([[n[0],n[1]],e])}var ot=function(t,n,e){var r=[0,0],o=[0,0],i=[0,0],u=[0,0],a=-1,s=!1,c=null,l=Object(nt.create)(),f=e||0,h=[],p=[],y=[],g=[0,0];n&&(t=t.slice()).push(t[0]);for(var d=t.length,m=1;m<d;m++){var v=f,x=t[m-1],w=t[m],b=m<t.length-1?t[m+1]:null;if(g.push(m/d,m/d),Object(tt.direction)(r,w,x),c||(c=[0,0],Object(tt.normal)(c,r)),s||(s=!0,et(p,h,x,c,1)),y.push([v+0,v+1,v+2]),b){Object(tt.direction)(o,b,w);var M=Object(tt.computeMiter)(i,u,r,o,1),S=Object(nt.dot)(i,c)<0?-1:1;M>3?(M=3,g.push(m/d),rt(h,c,-S),p.push(w),rt(h,u,M*S),p.push(w),y.push(a!==-S?[v,v+2,v+3]:[v+2,v+1,v+3]),y.push([v+2,v+3,v+4]),Object(tt.normal)(l,o),Object(nt.copy)(c,l),rt(h,c,-S),p.push(w),f+=3):(et(p,h,w,u,M),y.push(1===a?[v,v+2,v+3]:[v+2,v+1,v+3]),S=-1,Object(nt.copy)(c,u),f+=2),a=S}else Object(tt.normal)(c,r),et(p,h,w,c,1),y.push(1===a?[v,v+2,v+3]:[v+2,v+1,v+3]),f+=2}return{normals:h,attrIndex:y,attrPos:p,attrCounters:g}},it={};function ut(t,n){var e=n.zoom,r=n.bounds,o=n.projMatrix;it={};var i=Q(e),u=Math.floor(e),a=[],s=function(t,n,e,r){void 0===r&&(r=!0);var o=1<<t,i={};function u(n,u,a){var s,c,l;if(a>=0&&a<=o)for(s=n;s<u;s++)0!==(c=Math.floor(s/o))&&!0!==r||(l=new G(e,c,t,(s%o+o)%o,a),i[l.key]=l)}var a=n.map(function(t){return new N.a(t.x,t.y)._mult(o)});return V(a[0],a[1],a[2],0,o,u),V(a[2],a[3],a[0],0,o,u),Object.keys(i).map(function(t){return i[t]})}(u,[B.fromLngLat(r[0]),B.fromLngLat(r[1]),B.fromLngLat(r[2]),B.fromLngLat(r[3])],u,!1);return s.forEach(function(n){var e=0;n.posMatrix=function(t,n,e){var r=t.key,o=it;if(o[r])return o[r];var i,u,a,s,c,l,f,h,p,y,g,d,m,v,x,w,b,M,S=t.canonical,P=K*n/Q(S.z),E=S.x+Math.pow(2,S.z)*t.wrap,O=q(new Float64Array(16));return i=O,u=O,a=[E*P,S.y*P,0],w=a[0],b=a[1],M=a[2],u===i?(i[12]=u[0]*w+u[4]*b+u[8]*M+u[12],i[13]=u[1]*w+u[5]*b+u[9]*M+u[13],i[14]=u[2]*w+u[6]*b+u[10]*M+u[14],i[15]=u[3]*w+u[7]*b+u[11]*M+u[15]):(s=u[0],c=u[1],l=u[2],f=u[3],h=u[4],p=u[5],y=u[6],g=u[7],d=u[8],m=u[9],v=u[10],x=u[11],i[0]=s,i[1]=c,i[2]=l,i[3]=f,i[4]=h,i[5]=p,i[6]=y,i[7]=g,i[8]=d,i[9]=m,i[10]=v,i[11]=x,i[12]=s*w+h*b+d*M+u[12],i[13]=c*w+p*b+m*M+u[13],i[14]=l*w+y*b+v*M+u[14],i[15]=f*w+g*b+x*M+u[15]),function(t,n,e){var r=e[0],o=e[1],i=e[2];t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=n[7]*o,t[8]=n[8]*i,t[9]=n[9]*i,t[10]=n[10]*i,t[11]=n[11]*i,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]}(O,O,[P/W,P/W,1]),k(O,e,O),o[r]=new Float32Array(O),o[r]}(n.toUnwrapped(),i,o);var r=t.getTile(n.canonical.z,n.canonical.x,n.canonical.y);if(r&&r.features&&r.features.length){var u=[],s=[],c=[],l=[],f=[],h=0;e+=r.numSimplified,r.features.forEach(function(t){t.geometry.forEach(function(t){var n=ot(t,!1,h),e=n.normals,r=n.attrIndex,o=n.attrPos,i=n.attrCounters;c=c.concat(r),l=l.concat(o),f=f.concat(i),h+=o.length,e.forEach(function(t){var n=t[0],e=t[1];u.push([n[0],n[1]]),s.push(e)})})}),n.attributes={position:l,miter:s,normal:u,counters:f,indices:c}}a.push({tileID:n.key,pointsNum:e})}),{tiles:s,stats:a}}var at,st=function(t,n,e,r){return new(e||(e=Promise))(function(o,i){function u(t){try{s(r.next(t))}catch(t){i(t)}}function a(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new e(function(n){n(t.value)}).then(u,a)}s((r=r.apply(t,n||[])).next())})},ct=function(t,n){var e,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=n.call(t,u)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},lt=self;lt.addEventListener("message",function(t){var n=t.data;return st(void 0,void 0,void 0,function(){var t,e,r;return ct(this,function(o){switch(o.label){case 0:switch(t=n.command,e=n.params,t){case"loadData":return[3,1];case"getTiles":return[3,5]}return[3,6];case 1:return o.trys.push([1,3,,4]),[4,A(e)];case 2:return at=o.sent(),lt.postMessage({status:"success"}),[3,4];case 3:return r=o.sent(),lt.postMessage({params:r.toString(),status:"failure"}),[3,4];case 4:return[3,6];case 5:return at&&lt.postMessage({command:"renderTiles",params:ut(at,e),status:"success"}),[3,6];case 6:return[2]}})})})}]);