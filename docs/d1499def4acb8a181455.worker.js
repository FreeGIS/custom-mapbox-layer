!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=4)}([function(module,exports,__webpack_require__){"use strict";function Point(x,y){this.x=x,this.y=y}module.exports=Point,Point.prototype={clone:function(){return new Point(this.x,this.y)},add:function(p){return this.clone()._add(p)},sub:function(p){return this.clone()._sub(p)},multByPoint:function(p){return this.clone()._multByPoint(p)},divByPoint:function(p){return this.clone()._divByPoint(p)},mult:function(k){return this.clone()._mult(k)},div:function(k){return this.clone()._div(k)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,p){return this.clone()._rotateAround(a,p)},matMult:function(m){return this.clone()._matMult(m)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(other){return this.x===other.x&&this.y===other.y},dist:function(p){return Math.sqrt(this.distSqr(p))},distSqr:function(p){var dx=p.x-this.x,dy=p.y-this.y;return dx*dx+dy*dy},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(b){return Math.atan2(this.y-b.y,this.x-b.x)},angleWith:function(b){return this.angleWithSep(b.x,b.y)},angleWithSep:function(x,y){return Math.atan2(this.x*y-this.y*x,this.x*x+this.y*y)},_matMult:function(m){var x=m[0]*this.x+m[1]*this.y,y=m[2]*this.x+m[3]*this.y;return this.x=x,this.y=y,this},_add:function(p){return this.x+=p.x,this.y+=p.y,this},_sub:function(p){return this.x-=p.x,this.y-=p.y,this},_mult:function(k){return this.x*=k,this.y*=k,this},_div:function(k){return this.x/=k,this.y/=k,this},_multByPoint:function(p){return this.x*=p.x,this.y*=p.y,this},_divByPoint:function(p){return this.x/=p.x,this.y/=p.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var y=this.y;return this.y=this.x,this.x=-y,this},_rotate:function(angle){var cos=Math.cos(angle),sin=Math.sin(angle),x=cos*this.x-sin*this.y,y=sin*this.x+cos*this.y;return this.x=x,this.y=y,this},_rotateAround:function(angle,p){var cos=Math.cos(angle),sin=Math.sin(angle),x=p.x+cos*(this.x-p.x)-sin*(this.y-p.y),y=p.y+sin*(this.x-p.x)+cos*(this.y-p.y);return this.x=x,this.y=y,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Point.convert=function(a){return a instanceof Point?a:Array.isArray(a)?new Point(a[0],a[1]):a}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Point=__webpack_require__(0),mercator_coordinate_1=__webpack_require__(2),assert=__webpack_require__(9);exports.EXTENT=8192;var CanonicalTileID=function(){function CanonicalTileID(z,x,y){assert(z>=0&&z<=25),assert(x>=0&&x<Math.pow(2,z)),assert(y>=0&&y<Math.pow(2,z)),this.z=z,this.x=x,this.y=y,this.key=calculateKey(0,z,x,y)}return CanonicalTileID.prototype.equals=function(id){return this.z===id.z&&this.x===id.x&&this.y===id.y},CanonicalTileID.prototype.getTilePoint=function(coord){var tilesAtZoom=Math.pow(2,this.z);return new Point((coord.x*tilesAtZoom-this.x)*exports.EXTENT,(coord.y*tilesAtZoom-this.y)*exports.EXTENT)},CanonicalTileID}();exports.CanonicalTileID=CanonicalTileID;var UnwrappedTileID=function(){return function UnwrappedTileID(wrap,canonical){this.wrap=wrap,this.canonical=canonical,this.key=calculateKey(wrap,canonical.z,canonical.x,canonical.y)}}();exports.UnwrappedTileID=UnwrappedTileID;var OverscaledTileID=function(){function OverscaledTileID(overscaledZ,wrap,z,x,y){assert(overscaledZ>=z),this.overscaledZ=overscaledZ,this.wrap=wrap,this.canonical=new CanonicalTileID(z,+x,+y),this.key=calculateKey(wrap,overscaledZ,x,y)}return OverscaledTileID.prototype.equals=function(id){return this.overscaledZ===id.overscaledZ&&this.wrap===id.wrap&&this.canonical.equals(id.canonical)},OverscaledTileID.prototype.scaledTo=function(targetZ){assert(targetZ<=this.overscaledZ);var zDifference=this.canonical.z-targetZ;return targetZ>this.canonical.z?new OverscaledTileID(targetZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new OverscaledTileID(targetZ,this.wrap,targetZ,this.canonical.x>>zDifference,this.canonical.y>>zDifference)},OverscaledTileID.prototype.isChildOf=function(parent){if(parent.wrap!==this.wrap)return!1;var zDifference=this.canonical.z-parent.canonical.z;return 0===parent.overscaledZ||parent.overscaledZ<this.overscaledZ&&parent.canonical.x===this.canonical.x>>zDifference&&parent.canonical.y===this.canonical.y>>zDifference},OverscaledTileID.prototype.children=function(sourceMaxZoom){if(this.overscaledZ>=sourceMaxZoom)return[new OverscaledTileID(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var z=this.canonical.z+1,x=2*this.canonical.x,y=2*this.canonical.y;return[new OverscaledTileID(z,this.wrap,z,x,y),new OverscaledTileID(z,this.wrap,z,x+1,y),new OverscaledTileID(z,this.wrap,z,x,y+1),new OverscaledTileID(z,this.wrap,z,x+1,y+1)]},OverscaledTileID.prototype.isLessThan=function(rhs){return this.wrap<rhs.wrap||!(this.wrap>rhs.wrap)&&(this.overscaledZ<rhs.overscaledZ||!(this.overscaledZ>rhs.overscaledZ)&&(this.canonical.x<rhs.canonical.x||!(this.canonical.x>rhs.canonical.x)&&this.canonical.y<rhs.canonical.y))},OverscaledTileID.prototype.wrapped=function(){return new OverscaledTileID(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},OverscaledTileID.prototype.unwrapTo=function(wrap){return new OverscaledTileID(this.overscaledZ,wrap,this.canonical.z,this.canonical.x,this.canonical.y)},OverscaledTileID.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},OverscaledTileID.prototype.toUnwrapped=function(){return new UnwrappedTileID(this.wrap,this.canonical)},OverscaledTileID.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},OverscaledTileID.prototype.getTilePoint=function(coord){return this.canonical.getTilePoint(new mercator_coordinate_1.default(coord.x-this.wrap,coord.y))},OverscaledTileID}();function calculateKey(wrap,z,x,y){(wrap*=2)<0&&(wrap=-1*wrap-1);var dim=1<<z;return 32*(dim*dim*wrap+dim*y+x)+z}exports.OverscaledTileID=OverscaledTileID},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var lng_lat_1=__webpack_require__(3);function circumferenceAtLatitude(latitude){return 2*Math.PI*6378137*Math.cos(latitude*Math.PI/180)}function mercatorXfromLng(lng){return(180+lng)/360}function mercatorYfromLat(lat){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+lat*Math.PI/360)))/360}function mercatorZfromAltitude(altitude,lat){return altitude/circumferenceAtLatitude(lat)}function lngFromMercatorX(x){return 360*x-180}function latFromMercatorY(y){var y2=180-360*y;return 360/Math.PI*Math.atan(Math.exp(y2*Math.PI/180))-90}function altitudeFromMercatorZ(z,y){return z*circumferenceAtLatitude(latFromMercatorY(y))}exports.mercatorXfromLng=mercatorXfromLng,exports.mercatorYfromLat=mercatorYfromLat,exports.mercatorZfromAltitude=mercatorZfromAltitude,exports.lngFromMercatorX=lngFromMercatorX,exports.latFromMercatorY=latFromMercatorY,exports.altitudeFromMercatorZ=altitudeFromMercatorZ;var MercatorCoordinate=function(){function MercatorCoordinate(x,y,z){void 0===z&&(z=0),this.x=+x,this.y=+y,this.z=+z}return MercatorCoordinate.fromLngLat=function(lngLatLike,altitude){void 0===altitude&&(altitude=0);var lngLat=lng_lat_1.default.convert(lngLatLike);return new MercatorCoordinate(mercatorXfromLng(lngLat.lng),mercatorYfromLat(lngLat.lat),mercatorZfromAltitude(altitude,lngLat.lat))},MercatorCoordinate.prototype.toLngLat=function(){return new lng_lat_1.default(lngFromMercatorX(this.x),latFromMercatorY(this.y))},MercatorCoordinate.prototype.toAltitude=function(){return altitudeFromMercatorZ(this.z,this.y)},MercatorCoordinate}();exports.default=MercatorCoordinate},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var lng_lat_bounds_1=__webpack_require__(8);var LngLat=function(){function LngLat(lng,lat){if(isNaN(lng)||isNaN(lat))throw new Error("Invalid LngLat object: ("+lng+", "+lat+")");if(this.lng=+lng,this.lat=+lat,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return LngLat.prototype.wrap=function(){return new LngLat(function wrap(n,min,max){var d=max-min,w=((n-min)%d+d)%d+min;return w===min?max:w}(this.lng,-180,180),this.lat)},LngLat.prototype.toArray=function(){return[this.lng,this.lat]},LngLat.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},LngLat.prototype.toBounds=function(radius){void 0===radius&&(radius=0);var latAccuracy=360*radius/40075017,lngAccuracy=latAccuracy/Math.cos(Math.PI/180*this.lat);return new lng_lat_bounds_1.default(new LngLat(this.lng-lngAccuracy,this.lat-latAccuracy),new LngLat(this.lng+lngAccuracy,this.lat+latAccuracy))},LngLat.convert=function(input){if(input instanceof LngLat)return input;if(Array.isArray(input)&&(2===input.length||3===input.length))return new LngLat(Number(input[0]),Number(input[1]));if(!Array.isArray(input)&&"object"==typeof input&&null!==input)return new LngLat(Number("lng"in input?input.lng:input.lon),Number(input.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},LngLat}();exports.default=LngLat},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},_this=this;Object.defineProperty(exports,"__esModule",{value:!0});var tileIndex,loadData_1=__webpack_require__(5),getTiles_1=__webpack_require__(6),ctx=self;ctx.addEventListener("message",function(_a){var payload=_a.data;return __awaiter(_this,void 0,void 0,function(){var command,params,e_1;return __generator(this,function(_c){switch(_c.label){case 0:switch(command=payload.command,params=payload.params,command){case"loadData":return[3,1];case"getTiles":return[3,5]}return[3,6];case 1:return _c.trys.push([1,3,,4]),[4,loadData_1.default(params)];case 2:return tileIndex=_c.sent(),ctx.postMessage({command:"tileIndexLoaded",status:"success"}),[3,4];case 3:return e_1=_c.sent(),ctx.postMessage({params:e_1.toString(),status:"failure"}),[3,4];case 4:return[3,6];case 5:return tileIndex&&ctx.postMessage({command:"renderTiles",params:getTiles_1.default(tileIndex,params),status:"success"}),[3,6];case 6:return[2]}})})})},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var geojson_vt_1=__webpack_require__(22);exports.default=function loadData(_a){var url=_a.url,type=_a.type,isCluster=_a.isCluster;return __awaiter(this,void 0,void 0,function(){var ret,_b;return __generator(this,function(_c){switch(_c.label){case 0:return[4,fetch(url)];case 1:return ret=_c.sent(),"json"!==type&&"geojson"!==type?[3,4]:isCluster?[3,3]:(_b=geojson_vt_1.default,[4,ret.json()]);case 2:return[2,_b.apply(void 0,[_c.sent(),{maxZoom:24,tolerance:30,extent:8192}])];case 3:return[3,5];case 4:_c.label=5;case 5:return[2]}})})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var mat4=__webpack_require__(23),tile_cover_1=__webpack_require__(7),web_mercator_1=__webpack_require__(16),tile_id_1=__webpack_require__(1),mercator_coordinate_1=__webpack_require__(2),text_1=__webpack_require__(17),posMatrixCache={};exports.default=function getTiles(tileIndex,_a){var layer=_a.layer,textField=_a.textField,zoom=_a.zoom,bounds=_a.bounds,projMatrix=_a.projMatrix;!function cleanPosMatrixCache(){posMatrixCache={}}();var currentScale=web_mercator_1.zoomToScale(zoom),flooredZoom=Math.floor(zoom),tiles=tile_cover_1.default(flooredZoom,[mercator_coordinate_1.default.fromLngLat(bounds[0]),mercator_coordinate_1.default.fromLngLat(bounds[1]),mercator_coordinate_1.default.fromLngLat(bounds[2]),mercator_coordinate_1.default.fromLngLat(bounds[3])],flooredZoom,!1);return tiles.forEach(function(tile){tile.posMatrix=function calculatePosMatrix(unwrappedTileID,currentScale,projMatrix){var posMatrixKey=unwrappedTileID.key,cache=posMatrixCache;if(cache[posMatrixKey])return cache[posMatrixKey];var canonical=unwrappedTileID.canonical,scale=web_mercator_1.TILE_SIZE*currentScale/web_mercator_1.zoomToScale(canonical.z),unwrappedX=canonical.x+Math.pow(2,canonical.z)*unwrappedTileID.wrap,posMatrix=mat4.identity(new Float64Array(16));return mat4.translate(posMatrix,posMatrix,[unwrappedX*scale,canonical.y*scale,0]),mat4.scale(posMatrix,posMatrix,[scale/tile_id_1.EXTENT,scale/tile_id_1.EXTENT,1]),mat4.multiply(posMatrix,projMatrix,posMatrix),cache[posMatrixKey]=new Float32Array(posMatrix),cache[posMatrixKey]}(tile.toUnwrapped(),currentScale,projMatrix);var t=tileIndex.getTile(tile.canonical.z,tile.canonical.x,tile.canonical.y);t&&t.features&&t.features.length&&(tile.textFeatures=[],t.features.forEach(function(feature){"text"===layer&&text_1.default(tile,feature,textField)}))}),{tiles:tiles}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Point=__webpack_require__(0),tile_id_1=__webpack_require__(1);function edge(a,b){if(a.y>b.y){var t=a;a=b,b=t}return{x0:a.x,y0:a.y,x1:b.x,y1:b.y,dx:b.x-a.x,dy:b.y-a.y}}function scanSpans(e0,e1,ymin,ymax,scanLine){var y0=Math.max(ymin,Math.floor(e1.y0)),y1=Math.min(ymax,Math.ceil(e1.y1));if(e0.x0===e1.x0&&e0.y0===e1.y0?e0.x0+e1.dy/e0.dy*e0.dx<e1.x1:e0.x1-e1.dy/e0.dy*e0.dx<e1.x0){var t=e0;e0=e1,e1=t}for(var m0=e0.dx/e0.dy,m1=e1.dx/e1.dy,d0=e0.dx>0?1:0,d1=e1.dx<0?1:0,y=y0;y<y1;y++){var x0=m0*Math.max(0,Math.min(e0.dy,y+d0-e0.y0))+e0.x0,x1=m1*Math.max(0,Math.min(e1.dy,y+d1-e1.y0))+e1.x0;scanLine(Math.floor(x1),Math.ceil(x0),y)}}function scanTriangle(a,b,c,ymin,ymax,scanLine){var t,ab=edge(a,b),bc=edge(b,c),ca=edge(c,a);ab.dy>bc.dy&&(t=ab,ab=bc,bc=t),ab.dy>ca.dy&&(t=ab,ab=ca,ca=t),bc.dy>ca.dy&&(t=bc,bc=ca,ca=t),ab.dy&&scanSpans(ca,ab,ymin,ymax,scanLine),bc.dy&&scanSpans(ca,bc,ymin,ymax,scanLine)}exports.default=function tileCover(z,bounds,actualZ,renderWorldCopies){void 0===renderWorldCopies&&(renderWorldCopies=!0);var tiles=1<<z,t={};function scanLine(x0,x1,y){var x,w,wx,coord;if(y>=0&&y<=tiles)for(x=x0;x<x1;x++)w=Math.floor(x/tiles),wx=(x%tiles+tiles)%tiles,0!==w&&!0!==renderWorldCopies||(coord=new tile_id_1.OverscaledTileID(actualZ,w,z,wx,y),t[coord.key]=coord)}var zoomedBounds=bounds.map(function(coord){return new Point(coord.x,coord.y)._mult(tiles)});return scanTriangle(zoomedBounds[0],zoomedBounds[1],zoomedBounds[2],0,tiles,scanLine),scanTriangle(zoomedBounds[2],zoomedBounds[3],zoomedBounds[0],0,tiles,scanLine),Object.keys(t).map(function(id){return t[id]})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var lng_lat_1=__webpack_require__(3),LngLatBounds=function(){function LngLatBounds(sw,ne){sw&&(ne?this.setSouthWest(sw).setNorthEast(ne):4===sw.length?this.setSouthWest([sw[0],sw[1]]).setNorthEast([sw[2],sw[3]]):this.setSouthWest(sw[0]).setNorthEast(sw[1]))}return LngLatBounds.prototype.setNorthEast=function(ne){return this._ne=ne instanceof lng_lat_1.default?new lng_lat_1.default(ne.lng,ne.lat):lng_lat_1.default.convert(ne),this},LngLatBounds.prototype.setSouthWest=function(sw){return this._sw=sw instanceof lng_lat_1.default?new lng_lat_1.default(sw.lng,sw.lat):lng_lat_1.default.convert(sw),this},LngLatBounds.prototype.extend=function(obj){var sw2,ne2,sw=this._sw,ne=this._ne;if(obj instanceof lng_lat_1.default)sw2=obj,ne2=obj;else{if(!(obj instanceof LngLatBounds))return Array.isArray(obj)?obj.every(Array.isArray)?this.extend(LngLatBounds.convert(obj)):this.extend(lng_lat_1.default.convert(obj)):this;if(sw2=obj._sw,ne2=obj._ne,!sw2||!ne2)return this}return sw||ne?(sw.lng=Math.min(sw2.lng,sw.lng),sw.lat=Math.min(sw2.lat,sw.lat),ne.lng=Math.max(ne2.lng,ne.lng),ne.lat=Math.max(ne2.lat,ne.lat)):(this._sw=new lng_lat_1.default(sw2.lng,sw2.lat),this._ne=new lng_lat_1.default(ne2.lng,ne2.lat)),this},LngLatBounds.prototype.getCenter=function(){return new lng_lat_1.default((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},LngLatBounds.prototype.getSouthWest=function(){return this._sw},LngLatBounds.prototype.getNorthEast=function(){return this._ne},LngLatBounds.prototype.getNorthWest=function(){return new lng_lat_1.default(this.getWest(),this.getNorth())},LngLatBounds.prototype.getSouthEast=function(){return new lng_lat_1.default(this.getEast(),this.getSouth())},LngLatBounds.prototype.getWest=function(){return this._sw.lng},LngLatBounds.prototype.getSouth=function(){return this._sw.lat},LngLatBounds.prototype.getEast=function(){return this._ne.lng},LngLatBounds.prototype.getNorth=function(){return this._ne.lat},LngLatBounds.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},LngLatBounds.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},LngLatBounds.prototype.isEmpty=function(){return!(this._sw&&this._ne)},LngLatBounds.convert=function(input){return!input||input instanceof LngLatBounds?input:new LngLatBounds(input)},LngLatBounds}();exports.default=LngLatBounds},function(module,exports,__webpack_require__){"use strict";(function(global){var objectAssign=__webpack_require__(11);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function compare(a,b){if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0}function isBuffer(b){return global.Buffer&&"function"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(b):!(null==b||!b._isBuffer)}var util=__webpack_require__(12),hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames="foo"===function foo(){}.name;function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){return!isBuffer(arrbuf)&&("function"==typeof global.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(arrbuf):!!arrbuf&&(arrbuf instanceof DataView||!!(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer))))}var assert=module.exports=ok,regex=/\s*function\s+([^\(\s]*)\s*/;function getName(func){if(util.isFunction(func)){if(functionsHaveNames)return func.name;var match=func.toString().match(regex);return match&&match[1]}}function truncate(s,n){return"string"==typeof s?s.length<n?s:s.slice(0,n):s}function inspect(something){if(functionsHaveNames||!util.isFunction(something))return util.inspect(something);var rawname=getName(something);return"[Function"+(rawname?": "+rawname:"")+"]"}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected,strict,memos){if(actual===expected)return!0;if(isBuffer(actual)&&isBuffer(expected))return 0===compare(actual,expected);if(util.isDate(actual)&&util.isDate(expected))return actual.getTime()===expected.getTime();if(util.isRegExp(actual)&&util.isRegExp(expected))return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase;if(null!==actual&&"object"==typeof actual||null!==expected&&"object"==typeof expected){if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array))return 0===compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer));if(isBuffer(actual)!==isBuffer(expected))return!1;var actualIndex=(memos=memos||{actual:[],expected:[]}).actual.indexOf(actual);return-1!==actualIndex&&actualIndex===memos.expected.indexOf(expected)||(memos.actual.push(actual),memos.expected.push(expected),function objEquiv(a,b,strict,actualVisitedObjects){if(null==a||null==b)return!1;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return!1;if(aIsArgs)return a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b,strict);var key,i,ka=objectKeys(a),kb=objectKeys(b);if(ka.length!==kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!==kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return!1;return!0}(actual,expected,strict,memos))}return strict?actual===expected:actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function expectedException(actual,expected){if(!actual||!expected)return!1;if("[object RegExp]"==Object.prototype.toString.call(expected))return expected.test(actual);try{if(actual instanceof expected)return!0}catch(e){}return!Error.isPrototypeOf(expected)&&!0===expected.call({},actual)}function _throws(shouldThrow,block,expected,message){var actual;if("function"!=typeof block)throw new TypeError('"block" argument must be a function');"string"==typeof expected&&(message=expected,expected=null),actual=function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}(block),message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message);var userProvidedMessage="string"==typeof message,isUnexpectedException=!shouldThrow&&actual&&!expected;if((!shouldThrow&&util.isError(actual)&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}assert.AssertionError=function AssertionError(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=new Error;if(err.stack){var out=err.stack,fn_name=getName(stackStartFunction),idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function equal(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function notEqual(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function deepEqual(actual,expected,message){_deepEqual(actual,expected,!1)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.deepStrictEqual=function deepStrictEqual(actual,expected,message){_deepEqual(actual,expected,!0)||fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)},assert.notDeepEqual=function notDeepEqual(actual,expected,message){_deepEqual(actual,expected,!1)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.notDeepStrictEqual=function notDeepStrictEqual(actual,expected,message){_deepEqual(actual,expected,!0)&&fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)},assert.strictEqual=function strictEqual(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function notStrictEqual(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(block,error,message){_throws(!0,block,error,message)},assert.doesNotThrow=function(block,error,message){_throws(!1,block,error,message)},assert.ifError=function(err){if(err)throw err},assert.strict=objectAssign(function strict(value,message){value||fail(value,!0,message,"==",strict)},assert,{equal:assert.strictEqual,deepEqual:assert.deepStrictEqual,notEqual:assert.notStrictEqual,notDeepEqual:assert.notDeepStrictEqual}),assert.strict.strict=assert.strict;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}}).call(this,__webpack_require__(10))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}module.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},function(module,exports,__webpack_require__){(function(process){var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(obj){for(var keys=Object.keys(obj),descriptors={},i=0;i<keys.length;i++)descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i]);return descriptors},formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}i=1;for(var args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){if(void 0!==process&&!0===process.noDeprecation)return fn;if(void 0===process)return function(){return exports.deprecate(fn,msg).apply(this,arguments)};var warned=!1;return function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugEnviron,debugs={};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var output,base="",array=!1,braces=["{","}"];(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value))&&(base=" [Function"+(value.name?": "+value.name:"")+"]");return isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==keys.length||array&&0!=value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),function reduceToSingleString(output,base,braces){if(output.reduce(function(prev,cur){return 0,cur.indexOf("\n")>=0&&0,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if((desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]}).get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1)).indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function isNullOrUndefined(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function isSymbol(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=__webpack_require__(14);var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=__webpack_require__(15),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin};var kCustomPromisifiedSymbol="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(reason,cb){if(!reason){var newReason=new Error("Promise was rejected with a falsy value");newReason.reason=reason,reason=newReason}return cb(reason)}exports.promisify=function promisify(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn;if("function"!=typeof(fn=original[kCustomPromisifiedSymbol]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),fn}function fn(){for(var promiseResolve,promiseReject,promise=new Promise(function(resolve,reject){promiseResolve=resolve,promiseReject=reject}),args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);args.push(function(err,value){err?promiseReject(err):promiseResolve(value)});try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}return Object.setPrototypeOf(fn,Object.getPrototypeOf(original)),kCustomPromisifiedSymbol&&Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(fn,getOwnPropertyDescriptors(original))},exports.promisify.custom=kCustomPromisifiedSymbol,exports.callbackify=function callbackify(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);var maybeCb=args.pop();if("function"!=typeof maybeCb)throw new TypeError("The last argument must be of type Function");var self=this,cb=function(){return maybeCb.apply(self,arguments)};original.apply(this,args).then(function(ret){process.nextTick(cb,null,ret)},function(rej){process.nextTick(callbackifyOnRejected,rej,cb)})}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original)),Object.defineProperties(callbackified,getOwnPropertyDescriptors(original)),callbackified}}).call(this,__webpack_require__(13))},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports){module.exports=function isBuffer(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},function(module,exports){"function"==typeof Object.create?module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PI=Math.PI,PI_4=PI/4,DEGREES_TO_RADIANS=PI/180;exports.TILE_SIZE=512;var EARTH_CIRCUMFERENCE=4003e4;function zoomToScale(zoom){return Math.pow(2,zoom)}exports.zoomToScale=zoomToScale,exports.lngLatToWorld=function lngLatToWorld(_a,scale){var lng=_a[0],lat=_a[1];scale*=exports.TILE_SIZE;var phi2=lat*DEGREES_TO_RADIANS;return[scale*(lng*DEGREES_TO_RADIANS+PI)/(2*PI),scale*(PI-Math.log(Math.tan(PI_4+.5*phi2)))/(2*PI)]},exports.getDistanceScales=function getDistanceScales(options){var _a=options.latitude,latitude=void 0===_a?0:_a,_b=options.zoom,zoom=void 0===_b?1:_b,scale=options.scale,_c=options.highPrecision,highPrecision=void 0!==_c&&_c;scale=void 0!==scale?scale:zoomToScale(zoom);var result={},worldSize=exports.TILE_SIZE*scale,latCosine=Math.cos(latitude*DEGREES_TO_RADIANS),pixelsPerDegreeX=worldSize/360,pixelsPerDegreeY=pixelsPerDegreeX/latCosine,altPixelsPerMeter=worldSize/EARTH_CIRCUMFERENCE/latCosine;if(result.pixelsPerMeter=[altPixelsPerMeter,-altPixelsPerMeter,altPixelsPerMeter],result.metersPerPixel=[1/altPixelsPerMeter,-1/altPixelsPerMeter,1/altPixelsPerMeter],result.pixelsPerDegree=[pixelsPerDegreeX,-pixelsPerDegreeY,altPixelsPerMeter],result.degreesPerPixel=[1/pixelsPerDegreeX,-1/pixelsPerDegreeY,1/altPixelsPerMeter],highPrecision){var latCosine2=DEGREES_TO_RADIANS*Math.tan(latitude*DEGREES_TO_RADIANS)/latCosine,pixelsPerDegreeY2=pixelsPerDegreeX*latCosine2/2,altPixelsPerDegree2=worldSize/EARTH_CIRCUMFERENCE*latCosine2,altPixelsPerMeter2=altPixelsPerDegree2/pixelsPerDegreeY*altPixelsPerMeter;result.pixelsPerDegree2=[0,-pixelsPerDegreeY2,altPixelsPerDegree2],result.pixelsPerMeter2=[altPixelsPerMeter2,0,altPixelsPerMeter2]}return result}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Point=__webpack_require__(0),classify_rings_1=__webpack_require__(18),find_pole_of_inaccessibility_1=__webpack_require__(20);exports.default=function calcTextFeatures(tile,feature,textField){var text=feature.tags[textField];if(3===feature.type)for(var rings=feature.geometry.map(function(ring){return ring.map(function(p){return new Point(p[0],p[1])})}),_i=0,_a=classify_rings_1.default(rings,0);_i<_a.length;_i++){var polygon=_a[_i],poi=find_pole_of_inaccessibility_1.default(polygon,16);tile.textFeatures=tile.textFeatures.concat([{position:[poi.x,poi.y],text:text}])}else 1===feature.type&&(tile.textFeatures=tile.textFeatures.concat([{position:feature.geometry[0],text:text}]))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var quickselect_1=__webpack_require__(19);function calculateSignedArea(ring){for(var sum=0,i=0,len=ring.length,j=len-1,p1=void 0,p2=void 0;i<len;j=i++)p1=ring[i],sum+=((p2=ring[j]).x-p1.x)*(p1.y+p2.y);return sum}function compareAreas(a,b){return b.area-a.area}exports.calculateSignedArea=calculateSignedArea,exports.default=function classifyRings(rings,maxRings){var len=rings.length;if(len<=1)return[rings];for(var polygon,ccw,polygons=[],i=0;i<len;i++){var area=calculateSignedArea(rings[i]);0!==area&&(rings[i].area=Math.abs(area),void 0===ccw&&(ccw=area<0),ccw===area<0?(polygon&&polygons.push(polygon),polygon=[rings[i]]):polygon.push(rings[i]))}if(polygon&&polygons.push(polygon),maxRings>1)for(var j=0;j<polygons.length;j++)polygons[j].length<=maxRings||(quickselect_1.default(polygons[j],maxRings,1,polygons[j].length-1,compareAreas),polygons[j]=polygons[j].slice(0,maxRings));return polygons}},function(module,__webpack_exports__,__webpack_require__){"use strict";function quickselect(arr,k,left,right,compare){!function quickselectStep(arr,k,left,right,compare){for(;right>left;){if(right-left>600){var n=right-left+1,m=k-left+1,z=Math.log(n),s=.5*Math.exp(2*z/3),sd=.5*Math.sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1),newLeft=Math.max(left,Math.floor(k-m*s/n+sd)),newRight=Math.min(right,Math.floor(k+(n-m)*s/n+sd));quickselectStep(arr,k,newLeft,newRight,compare)}var t=arr[k],i=left,j=right;for(swap(arr,left,k),compare(arr[right],t)>0&&swap(arr,left,right);i<j;){for(swap(arr,i,j),i++,j--;compare(arr[i],t)<0;)i++;for(;compare(arr[j],t)>0;)j--}0===compare(arr[left],t)?swap(arr,left,j):swap(arr,++j,right),j<=k&&(left=j+1),k<=j&&(right=j-1)}}(arr,k,left||0,right||arr.length-1,compare||defaultCompare)}function swap(arr,i,j){var tmp=arr[i];arr[i]=arr[j],arr[j]=tmp}function defaultCompare(a,b){return a<b?-1:a>b?1:0}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return quickselect})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tinyqueue_1=__webpack_require__(21),Point=__webpack_require__(0);function distToSegmentSquared(p,v,w){var l2=v.distSqr(w);if(0===l2)return p.distSqr(v);var t=((p.x-v.x)*(w.x-v.x)+(p.y-v.y)*(w.y-v.y))/l2;return t<0?p.distSqr(v):t>1?p.distSqr(w):p.distSqr(w.sub(v)._mult(t)._add(v))}function compareMax(a,b){return b.max-a.max}exports.default=function default_1(polygonRings,precision,debug){void 0===precision&&(precision=1),void 0===debug&&(debug=!1);for(var minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0,outerRing=polygonRings[0],i=0;i<outerRing.length;i++){var p=outerRing[i];(!i||p.x<minX)&&(minX=p.x),(!i||p.y<minY)&&(minY=p.y),(!i||p.x>maxX)&&(maxX=p.x),(!i||p.y>maxY)&&(maxY=p.y)}var width=maxX-minX,height=maxY-minY,cellSize=Math.min(width,height),h=cellSize/2,cellQueue=new tinyqueue_1.default([],compareMax);if(0===cellSize)return new Point(minX,minY);for(var x=minX;x<maxX;x+=cellSize)for(var y=minY;y<maxY;y+=cellSize)cellQueue.push(new Cell(x+h,y+h,h,polygonRings));for(var bestCell=function getCentroidCell(polygon){for(var area=0,x=0,y=0,points=polygon[0],i=0,len=points.length,j=len-1;i<len;j=i++){var a=points[i],b=points[j],f=a.x*b.y-b.x*a.y;x+=(a.x+b.x)*f,y+=(a.y+b.y)*f,area+=3*f}return new Cell(x/area,y/area,0,polygon)}(polygonRings),numProbes=cellQueue.length;cellQueue.length;){var cell=cellQueue.pop();(cell.d>bestCell.d||!bestCell.d)&&(bestCell=cell,debug&&console.log("found best %d after %d probes",Math.round(1e4*cell.d)/1e4,numProbes)),cell.max-bestCell.d<=precision||(h=cell.h/2,cellQueue.push(new Cell(cell.p.x-h,cell.p.y-h,h,polygonRings)),cellQueue.push(new Cell(cell.p.x+h,cell.p.y-h,h,polygonRings)),cellQueue.push(new Cell(cell.p.x-h,cell.p.y+h,h,polygonRings)),cellQueue.push(new Cell(cell.p.x+h,cell.p.y+h,h,polygonRings)),numProbes+=4)}return debug&&(console.log("num probes: "+numProbes),console.log("best distance: "+bestCell.d)),bestCell.p};var Cell=function(){return function Cell(x,y,h,polygon){this.p=new Point(x,y),this.h=h,this.d=function pointToPolygonDist(p,polygon){for(var inside=!1,minDistSq=1/0,k=0;k<polygon.length;k++)for(var ring=polygon[k],i=0,len=ring.length,j=len-1;i<len;j=i++){var a=ring[i],b=ring[j];a.y>p.y!=b.y>p.y&&p.x<(b.x-a.x)*(p.y-a.y)/(b.y-a.y)+a.x&&(inside=!inside),minDistSq=Math.min(minDistSq,distToSegmentSquared(p,a,b))}return(inside?1:-1)*Math.sqrt(minDistSq)}(this.p,polygon),this.max=this.d+this.h*Math.SQRT2}}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return TinyQueue});class TinyQueue{constructor(data=[],compare=function defaultCompare(a,b){return a<b?-1:a>b?1:0}){if(this.data=data,this.length=this.data.length,this.compare=compare,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(item){this.data.push(item),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const top=this.data[0],bottom=this.data.pop();return this.length--,this.length>0&&(this.data[0]=bottom,this._down(0)),top}peek(){return this.data[0]}_up(pos){const{data:data,compare:compare}=this,item=data[pos];for(;pos>0;){const parent=pos-1>>1,current=data[parent];if(compare(item,current)>=0)break;data[pos]=current,pos=parent}data[pos]=item}_down(pos){const{data:data,compare:compare}=this,halfLength=this.length>>1,item=data[pos];for(;pos<halfLength;){let left=1+(pos<<1),best=data[left];const right=left+1;if(right<this.length&&compare(data[right],best)<0&&(left=right,best=data[right]),compare(best,item)>=0)break;data[pos]=best,pos=left}data[pos]=item}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function getSqSegDist(px,py,x,y,bx,by){var dx=bx-x,dy=by-y;if(0!==dx||0!==dy){var t=((px-x)*dx+(py-y)*dy)/(dx*dx+dy*dy);t>1?(x=bx,y=by):t>0&&(x+=dx*t,y+=dy*t)}return(dx=px-x)*dx+(dy=py-y)*dy}function createFeature(id,type,geom,tags){var feature={id:void 0===id?null:id,type:type,geometry:geom,tags:tags,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function calcBBox(feature){var geom=feature.geometry,type=feature.type;if("Point"===type||"MultiPoint"===type||"LineString"===type)calcLineBBox(feature,geom);else if("Polygon"===type||"MultiLineString"===type)for(var i=0;i<geom.length;i++)calcLineBBox(feature,geom[i]);else if("MultiPolygon"===type)for(i=0;i<geom.length;i++)for(var j=0;j<geom[i].length;j++)calcLineBBox(feature,geom[i][j])}(feature),feature}function calcLineBBox(feature,geom){for(var i=0;i<geom.length;i+=3)feature.minX=Math.min(feature.minX,geom[i]),feature.minY=Math.min(feature.minY,geom[i+1]),feature.maxX=Math.max(feature.maxX,geom[i]),feature.maxY=Math.max(feature.maxY,geom[i+1])}function convertFeature(features,geojson,options,index){if(geojson.geometry){var coords=geojson.geometry.coordinates,type=geojson.geometry.type,tolerance=Math.pow(options.tolerance/((1<<options.maxZoom)*options.extent),2),geometry=[],id=geojson.id;if(options.promoteId?id=geojson.properties[options.promoteId]:options.generateId&&(id=index||0),"Point"===type)convertPoint(coords,geometry);else if("MultiPoint"===type)for(var i=0;i<coords.length;i++)convertPoint(coords[i],geometry);else if("LineString"===type)convertLine(coords,geometry,tolerance,!1);else if("MultiLineString"===type){if(options.lineMetrics){for(i=0;i<coords.length;i++)geometry=[],convertLine(coords[i],geometry,tolerance,!1),features.push(createFeature(id,"LineString",geometry,geojson.properties));return}convertLines(coords,geometry,tolerance,!1)}else if("Polygon"===type)convertLines(coords,geometry,tolerance,!0);else{if("MultiPolygon"!==type){if("GeometryCollection"===type){for(i=0;i<geojson.geometry.geometries.length;i++)convertFeature(features,{id:id,geometry:geojson.geometry.geometries[i],properties:geojson.properties},options,index);return}throw new Error("Input data is not a valid GeoJSON object.")}for(i=0;i<coords.length;i++){var polygon=[];convertLines(coords[i],polygon,tolerance,!0),geometry.push(polygon)}}features.push(createFeature(id,type,geometry,geojson.properties))}}function convertPoint(coords,out){out.push(projectX(coords[0])),out.push(projectY(coords[1])),out.push(0)}function convertLine(ring,out,tolerance,isPolygon){for(var x0,y0,size=0,j=0;j<ring.length;j++){var x=projectX(ring[j][0]),y=projectY(ring[j][1]);out.push(x),out.push(y),out.push(0),j>0&&(size+=isPolygon?(x0*y-x*y0)/2:Math.sqrt(Math.pow(x-x0,2)+Math.pow(y-y0,2))),x0=x,y0=y}var last=out.length-3;out[2]=1,function simplify(coords,first,last,sqTolerance){for(var index,maxSqDist=sqTolerance,mid=last-first>>1,minPosToMid=last-first,ax=coords[first],ay=coords[first+1],bx=coords[last],by=coords[last+1],i=first+3;i<last;i+=3){var d=getSqSegDist(coords[i],coords[i+1],ax,ay,bx,by);if(d>maxSqDist)index=i,maxSqDist=d;else if(d===maxSqDist){var posToMid=Math.abs(i-mid);posToMid<minPosToMid&&(index=i,minPosToMid=posToMid)}}maxSqDist>sqTolerance&&(index-first>3&&simplify(coords,first,index,sqTolerance),coords[index+2]=maxSqDist,last-index>3&&simplify(coords,index,last,sqTolerance))}(out,0,last,tolerance),out[last+2]=1,out.size=Math.abs(size),out.start=0,out.end=out.size}function convertLines(rings,out,tolerance,isPolygon){for(var i=0;i<rings.length;i++){var geom=[];convertLine(rings[i],geom,tolerance,isPolygon),out.push(geom)}}function projectX(x){return x/360+.5}function projectY(y){var sin=Math.sin(y*Math.PI/180),y2=.5-.25*Math.log((1+sin)/(1-sin))/Math.PI;return y2<0?0:y2>1?1:y2}function clip(features,scale,k1,k2,axis,minAll,maxAll,options){if(k2/=scale,minAll>=(k1/=scale)&&maxAll<k2)return features;if(maxAll<k1||minAll>=k2)return null;for(var clipped=[],i=0;i<features.length;i++){var feature=features[i],geometry=feature.geometry,type=feature.type,min=0===axis?feature.minX:feature.minY,max=0===axis?feature.maxX:feature.maxY;if(min>=k1&&max<k2)clipped.push(feature);else if(!(max<k1||min>=k2)){var newGeometry=[];if("Point"===type||"MultiPoint"===type)clipPoints(geometry,newGeometry,k1,k2,axis);else if("LineString"===type)clipLine(geometry,newGeometry,k1,k2,axis,!1,options.lineMetrics);else if("MultiLineString"===type)clipLines(geometry,newGeometry,k1,k2,axis,!1);else if("Polygon"===type)clipLines(geometry,newGeometry,k1,k2,axis,!0);else if("MultiPolygon"===type)for(var j=0;j<geometry.length;j++){var polygon=[];clipLines(geometry[j],polygon,k1,k2,axis,!0),polygon.length&&newGeometry.push(polygon)}if(newGeometry.length){if(options.lineMetrics&&"LineString"===type){for(j=0;j<newGeometry.length;j++)clipped.push(createFeature(feature.id,type,newGeometry[j],feature.tags));continue}"LineString"!==type&&"MultiLineString"!==type||(1===newGeometry.length?(type="LineString",newGeometry=newGeometry[0]):type="MultiLineString"),"Point"!==type&&"MultiPoint"!==type||(type=3===newGeometry.length?"Point":"MultiPoint"),clipped.push(createFeature(feature.id,type,newGeometry,feature.tags))}}}return clipped.length?clipped:null}function clipPoints(geom,newGeom,k1,k2,axis){for(var i=0;i<geom.length;i+=3){var a=geom[i+axis];a>=k1&&a<=k2&&(newGeom.push(geom[i]),newGeom.push(geom[i+1]),newGeom.push(geom[i+2]))}}function clipLine(geom,newGeom,k1,k2,axis,isPolygon,trackMetrics){for(var segLen,t,slice=newSlice(geom),intersect=0===axis?intersectX:intersectY,len=geom.start,i=0;i<geom.length-3;i+=3){var ax=geom[i],ay=geom[i+1],az=geom[i+2],bx=geom[i+3],by=geom[i+4],a=0===axis?ax:ay,b=0===axis?bx:by,exited=!1;trackMetrics&&(segLen=Math.sqrt(Math.pow(ax-bx,2)+Math.pow(ay-by,2))),a<k1?b>k1&&(t=intersect(slice,ax,ay,bx,by,k1),trackMetrics&&(slice.start=len+segLen*t)):a>k2?b<k2&&(t=intersect(slice,ax,ay,bx,by,k2),trackMetrics&&(slice.start=len+segLen*t)):addPoint(slice,ax,ay,az),b<k1&&a>=k1&&(t=intersect(slice,ax,ay,bx,by,k1),exited=!0),b>k2&&a<=k2&&(t=intersect(slice,ax,ay,bx,by,k2),exited=!0),!isPolygon&&exited&&(trackMetrics&&(slice.end=len+segLen*t),newGeom.push(slice),slice=newSlice(geom)),trackMetrics&&(len+=segLen)}var last=geom.length-3;ax=geom[last],ay=geom[last+1],az=geom[last+2],(a=0===axis?ax:ay)>=k1&&a<=k2&&addPoint(slice,ax,ay,az),last=slice.length-3,isPolygon&&last>=3&&(slice[last]!==slice[0]||slice[last+1]!==slice[1])&&addPoint(slice,slice[0],slice[1],slice[2]),slice.length&&newGeom.push(slice)}function newSlice(line){var slice=[];return slice.size=line.size,slice.start=line.start,slice.end=line.end,slice}function clipLines(geom,newGeom,k1,k2,axis,isPolygon){for(var i=0;i<geom.length;i++)clipLine(geom[i],newGeom,k1,k2,axis,isPolygon,!1)}function addPoint(out,x,y,z){out.push(x),out.push(y),out.push(z)}function intersectX(out,ax,ay,bx,by,x){var t=(x-ax)/(bx-ax);return out.push(x),out.push(ay+(by-ay)*t),out.push(1),t}function intersectY(out,ax,ay,bx,by,y){var t=(y-ay)/(by-ay);return out.push(ax+(bx-ax)*t),out.push(y),out.push(1),t}function shiftFeatureCoords(features,offset){for(var newFeatures=[],i=0;i<features.length;i++){var newGeometry,feature=features[i],type=feature.type;if("Point"===type||"MultiPoint"===type||"LineString"===type)newGeometry=shiftCoords(feature.geometry,offset);else if("MultiLineString"===type||"Polygon"===type){newGeometry=[];for(var j=0;j<feature.geometry.length;j++)newGeometry.push(shiftCoords(feature.geometry[j],offset))}else if("MultiPolygon"===type)for(newGeometry=[],j=0;j<feature.geometry.length;j++){for(var newPolygon=[],k=0;k<feature.geometry[j].length;k++)newPolygon.push(shiftCoords(feature.geometry[j][k],offset));newGeometry.push(newPolygon)}newFeatures.push(createFeature(feature.id,type,newGeometry,feature.tags))}return newFeatures}function shiftCoords(points,offset){var newPoints=[];newPoints.size=points.size,void 0!==points.start&&(newPoints.start=points.start,newPoints.end=points.end);for(var i=0;i<points.length;i+=3)newPoints.push(points[i]+offset,points[i+1],points[i+2]);return newPoints}function transformTile(tile,extent){if(tile.transformed)return tile;var i,j,k,z2=1<<tile.z,tx=tile.x,ty=tile.y;for(i=0;i<tile.features.length;i++){var feature=tile.features[i],geom=feature.geometry,type=feature.type;if(feature.geometry=[],1===type)for(j=0;j<geom.length;j+=2)feature.geometry.push(transformPoint(geom[j],geom[j+1],extent,z2,tx,ty));else for(j=0;j<geom.length;j++){var ring=[];for(k=0;k<geom[j].length;k+=2)ring.push(transformPoint(geom[j][k],geom[j][k+1],extent,z2,tx,ty));feature.geometry.push(ring)}}return tile.transformed=!0,tile}function transformPoint(x,y,extent,z2,tx,ty){return[Math.round(extent*(x*z2-tx)),Math.round(extent*(y*z2-ty))]}function createTile(features,z,tx,ty,options){for(var tolerance=z===options.maxZoom?0:options.tolerance/((1<<z)*options.extent),tile={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:tx,y:ty,z:z,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},i=0;i<features.length;i++){tile.numFeatures++,addFeature(tile,features[i],tolerance,options);var minX=features[i].minX,minY=features[i].minY,maxX=features[i].maxX,maxY=features[i].maxY;minX<tile.minX&&(tile.minX=minX),minY<tile.minY&&(tile.minY=minY),maxX>tile.maxX&&(tile.maxX=maxX),maxY>tile.maxY&&(tile.maxY=maxY)}return tile}function addFeature(tile,feature,tolerance,options){var geom=feature.geometry,type=feature.type,simplified=[];if("Point"===type||"MultiPoint"===type)for(var i=0;i<geom.length;i+=3)simplified.push(geom[i]),simplified.push(geom[i+1]),tile.numPoints++,tile.numSimplified++;else if("LineString"===type)addLine(simplified,geom,tile,tolerance,!1,!1);else if("MultiLineString"===type||"Polygon"===type)for(i=0;i<geom.length;i++)addLine(simplified,geom[i],tile,tolerance,"Polygon"===type,0===i);else if("MultiPolygon"===type)for(var k=0;k<geom.length;k++){var polygon=geom[k];for(i=0;i<polygon.length;i++)addLine(simplified,polygon[i],tile,tolerance,!0,0===i)}if(simplified.length){var tags=feature.tags||null;if("LineString"===type&&options.lineMetrics){for(var key in tags={},feature.tags)tags[key]=feature.tags[key];tags.mapbox_clip_start=geom.start/geom.size,tags.mapbox_clip_end=geom.end/geom.size}var tileFeature={geometry:simplified,type:"Polygon"===type||"MultiPolygon"===type?3:"LineString"===type||"MultiLineString"===type?2:1,tags:tags};null!==feature.id&&(tileFeature.id=feature.id),tile.features.push(tileFeature)}}function addLine(result,geom,tile,tolerance,isPolygon,isOuter){var sqTolerance=tolerance*tolerance;if(tolerance>0&&geom.size<(isPolygon?sqTolerance:tolerance))tile.numPoints+=geom.length/3;else{for(var ring=[],i=0;i<geom.length;i+=3)(0===tolerance||geom[i+2]>sqTolerance)&&(tile.numSimplified++,ring.push(geom[i]),ring.push(geom[i+1])),tile.numPoints++;isPolygon&&function rewind(ring,clockwise){for(var area=0,i=0,len=ring.length,j=len-2;i<len;j=i,i+=2)area+=(ring[i]-ring[j])*(ring[i+1]+ring[j+1]);if(area>0===clockwise)for(i=0,len=ring.length;i<len/2;i+=2){var x=ring[i],y=ring[i+1];ring[i]=ring[len-2-i],ring[i+1]=ring[len-1-i],ring[len-2-i]=x,ring[len-1-i]=y}}(ring,isOuter),result.push(ring)}}function geojsonvt(data,options){return new GeoJSONVT(data,options)}function GeoJSONVT(data,options){var debug=(options=this.options=function extend(dest,src){for(var i in src)dest[i]=src[i];return dest}(Object.create(this.options),options)).debug;if(debug&&console.time("preprocess data"),options.maxZoom<0||options.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(options.promoteId&&options.generateId)throw new Error("promoteId and generateId cannot be used together.");var features=function convert(data,options){var features=[];if("FeatureCollection"===data.type)for(var i=0;i<data.features.length;i++)convertFeature(features,data.features[i],options,i);else"Feature"===data.type?convertFeature(features,data,options):convertFeature(features,{geometry:data},options);return features}(data,options);this.tiles={},this.tileCoords=[],debug&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",options.indexMaxZoom,options.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(features=function wrap(features,options){var buffer=options.buffer/options.extent,merged=features,left=clip(features,1,-1-buffer,buffer,0,-1,2,options),right=clip(features,1,1-buffer,2+buffer,0,-1,2,options);return(left||right)&&(merged=clip(features,1,-buffer,1+buffer,0,-1,2,options)||[],left&&(merged=shiftFeatureCoords(left,1).concat(merged)),right&&(merged=merged.concat(shiftFeatureCoords(right,-1)))),merged}(features,options)).length&&this.splitTile(features,0,0,0),debug&&(features.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function toID(z,x,y){return 32*((1<<z)*y+x)+z}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return geojsonvt}),GeoJSONVT.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},GeoJSONVT.prototype.splitTile=function(features,z,x,y,cz,cx,cy){for(var stack=[features,z,x,y],options=this.options,debug=options.debug;stack.length;){y=stack.pop(),x=stack.pop(),z=stack.pop(),features=stack.pop();var z2=1<<z,id=toID(z,x,y),tile=this.tiles[id];if(!tile&&(debug>1&&console.time("creation"),tile=this.tiles[id]=createTile(features,z,x,y,options),this.tileCoords.push({z:z,x:x,y:y}),debug)){debug>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",z,x,y,tile.numFeatures,tile.numPoints,tile.numSimplified),console.timeEnd("creation"));var key="z"+z;this.stats[key]=(this.stats[key]||0)+1,this.total++}if(tile.source=features,cz){if(z===options.maxZoom||z===cz)continue;var m=1<<cz-z;if(x!==Math.floor(cx/m)||y!==Math.floor(cy/m))continue}else if(z===options.indexMaxZoom||tile.numPoints<=options.indexMaxPoints)continue;if(tile.source=null,0!==features.length){debug>1&&console.time("clipping");var tl,bl,tr,br,left,right,k1=.5*options.buffer/options.extent,k2=.5-k1,k3=.5+k1,k4=1+k1;tl=bl=tr=br=null,left=clip(features,z2,x-k1,x+k3,0,tile.minX,tile.maxX,options),right=clip(features,z2,x+k2,x+k4,0,tile.minX,tile.maxX,options),features=null,left&&(tl=clip(left,z2,y-k1,y+k3,1,tile.minY,tile.maxY,options),bl=clip(left,z2,y+k2,y+k4,1,tile.minY,tile.maxY,options),left=null),right&&(tr=clip(right,z2,y-k1,y+k3,1,tile.minY,tile.maxY,options),br=clip(right,z2,y+k2,y+k4,1,tile.minY,tile.maxY,options),right=null),debug>1&&console.timeEnd("clipping"),stack.push(tl||[],z+1,2*x,2*y),stack.push(bl||[],z+1,2*x,2*y+1),stack.push(tr||[],z+1,2*x+1,2*y),stack.push(br||[],z+1,2*x+1,2*y+1)}}},GeoJSONVT.prototype.getTile=function(z,x,y){var options=this.options,extent=options.extent,debug=options.debug;if(z<0||z>24)return null;var z2=1<<z,id=toID(z,x=(x%z2+z2)%z2,y);if(this.tiles[id])return transformTile(this.tiles[id],extent);debug>1&&console.log("drilling down to z%d-%d-%d",z,x,y);for(var parent,z0=z,x0=x,y0=y;!parent&&z0>0;)z0--,x0=Math.floor(x0/2),y0=Math.floor(y0/2),parent=this.tiles[toID(z0,x0,y0)];return parent&&parent.source?(debug>1&&console.log("found parent tile z%d-%d-%d",z0,x0,y0),debug>1&&console.time("drilling down"),this.splitTile(parent.source,z0,x0,y0,z,x,y),debug>1&&console.timeEnd("drilling down"),this.tiles[id]?transformTile(this.tiles[id],extent):null):null}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var EPSILON=1e-6,ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function create(){var out=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[11]=0,out[12]=0,out[13]=0,out[14]=0),out[0]=1,out[5]=1,out[10]=1,out[15]=1,out}function clone(a){var out=new ARRAY_TYPE(16);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function fromValues(m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){var out=new ARRAY_TYPE(16);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function set(out,m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a01,out[6]=a[9],out[7]=a[13],out[8]=a02,out[9]=a12,out[11]=a[14],out[12]=a03,out[13]=a13,out[14]=a23}else out[0]=a[0],out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a[1],out[5]=a[5],out[6]=a[9],out[7]=a[13],out[8]=a[2],out[9]=a[6],out[10]=a[10],out[11]=a[14],out[12]=a[3],out[13]=a[7],out[14]=a[11],out[15]=a[15];return out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out):null}function adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return out[0]=a11*(a22*a33-a23*a32)-a21*(a12*a33-a13*a32)+a31*(a12*a23-a13*a22),out[1]=-(a01*(a22*a33-a23*a32)-a21*(a02*a33-a03*a32)+a31*(a02*a23-a03*a22)),out[2]=a01*(a12*a33-a13*a32)-a11*(a02*a33-a03*a32)+a31*(a02*a13-a03*a12),out[3]=-(a01*(a12*a23-a13*a22)-a11*(a02*a23-a03*a22)+a21*(a02*a13-a03*a12)),out[4]=-(a10*(a22*a33-a23*a32)-a20*(a12*a33-a13*a32)+a30*(a12*a23-a13*a22)),out[5]=a00*(a22*a33-a23*a32)-a20*(a02*a33-a03*a32)+a30*(a02*a23-a03*a22),out[6]=-(a00*(a12*a33-a13*a32)-a10*(a02*a33-a03*a32)+a30*(a02*a13-a03*a12)),out[7]=a00*(a12*a23-a13*a22)-a10*(a02*a23-a03*a22)+a20*(a02*a13-a03*a12),out[8]=a10*(a21*a33-a23*a31)-a20*(a11*a33-a13*a31)+a30*(a11*a23-a13*a21),out[9]=-(a00*(a21*a33-a23*a31)-a20*(a01*a33-a03*a31)+a30*(a01*a23-a03*a21)),out[10]=a00*(a11*a33-a13*a31)-a10*(a01*a33-a03*a31)+a30*(a01*a13-a03*a11),out[11]=-(a00*(a11*a23-a13*a21)-a10*(a01*a23-a03*a21)+a20*(a01*a13-a03*a11)),out[12]=-(a10*(a21*a32-a22*a31)-a20*(a11*a32-a12*a31)+a30*(a11*a22-a12*a21)),out[13]=a00*(a21*a32-a22*a31)-a20*(a01*a32-a02*a31)+a30*(a01*a22-a02*a21),out[14]=-(a00*(a11*a32-a12*a31)-a10*(a01*a32-a02*a31)+a30*(a01*a12-a02*a11)),out[15]=a00*(a11*a22-a12*a21)-a10*(a01*a22-a02*a21)+a20*(a01*a12-a02*a11),out}function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return(a00*a11-a01*a10)*(a22*a33-a23*a32)-(a00*a12-a02*a10)*(a21*a33-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a33-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)}function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out}function translate(out,a,v){var a00,a01,a02,a03,a10,a11,a12,a13,a20,a21,a22,a23,x=v[0],y=v[1],z=v[2];return a===out?(out[12]=a[0]*x+a[4]*y+a[8]*z+a[12],out[13]=a[1]*x+a[5]*y+a[9]*z+a[13],out[14]=a[2]*x+a[6]*y+a[10]*z+a[14],out[15]=a[3]*x+a[7]*y+a[11]*z+a[15]):(a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a03,out[4]=a10,out[5]=a11,out[6]=a12,out[7]=a13,out[8]=a20,out[9]=a21,out[10]=a22,out[11]=a23,out[12]=a00*x+a10*y+a20*z+a[12],out[13]=a01*x+a11*y+a21*z+a[13],out[14]=a02*x+a12*y+a22*z+a[14],out[15]=a03*x+a13*y+a23*z+a[15]),out}function scale(out,a,v){var x=v[0],y=v[1],z=v[2];return out[0]=a[0]*x,out[1]=a[1]*x,out[2]=a[2]*x,out[3]=a[3]*x,out[4]=a[4]*y,out[5]=a[5]*y,out[6]=a[6]*y,out[7]=a[7]*y,out[8]=a[8]*z,out[9]=a[9]*z,out[10]=a[10]*z,out[11]=a[11]*z,out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function rotate(out,a,rad,axis){var s,c,t,a00,a01,a02,a03,a10,a11,a12,a13,a20,a21,a22,a23,b00,b01,b02,b10,b11,b12,b20,b21,b22,x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z);return len<EPSILON?null:(x*=len=1/len,y*=len,z*=len,s=Math.sin(rad),t=1-(c=Math.cos(rad)),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],b00=x*x*t+c,b01=y*x*t+z*s,b02=z*x*t-y*s,b10=x*y*t-z*s,b11=y*y*t+c,b12=z*y*t+x*s,b20=x*z*t+y*s,b21=y*z*t-x*s,b22=z*z*t+c,out[0]=a00*b00+a10*b01+a20*b02,out[1]=a01*b00+a11*b01+a21*b02,out[2]=a02*b00+a12*b01+a22*b02,out[3]=a03*b00+a13*b01+a23*b02,out[4]=a00*b10+a10*b11+a20*b12,out[5]=a01*b10+a11*b11+a21*b12,out[6]=a02*b10+a12*b11+a22*b12,out[7]=a03*b10+a13*b11+a23*b12,out[8]=a00*b20+a10*b21+a20*b22,out[9]=a01*b20+a11*b21+a21*b22,out[10]=a02*b20+a12*b21+a22*b22,out[11]=a03*b20+a13*b21+a23*b22,a!==out&&(out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out)}function rotateX(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[4]=a10*c+a20*s,out[5]=a11*c+a21*s,out[6]=a12*c+a22*s,out[7]=a13*c+a23*s,out[8]=a20*c-a10*s,out[9]=a21*c-a11*s,out[10]=a22*c-a12*s,out[11]=a23*c-a13*s,out}function rotateY(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c-a20*s,out[1]=a01*c-a21*s,out[2]=a02*c-a22*s,out[3]=a03*c-a23*s,out[8]=a00*s+a20*c,out[9]=a01*s+a21*c,out[10]=a02*s+a22*c,out[11]=a03*s+a23*c,out}function rotateZ(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];return a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c+a10*s,out[1]=a01*c+a11*s,out[2]=a02*c+a12*s,out[3]=a03*c+a13*s,out[4]=a10*c-a00*s,out[5]=a11*c-a01*s,out[6]=a12*c-a02*s,out[7]=a13*c-a03*s,out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=v[1],out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=v[2],out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotation(out,rad,axis){var s,c,t,x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z);return len<EPSILON?null:(x*=len=1/len,y*=len,z*=len,s=Math.sin(rad),t=1-(c=Math.cos(rad)),out[0]=x*x*t+c,out[1]=y*x*t+z*s,out[2]=z*x*t-y*s,out[3]=0,out[4]=x*y*t-z*s,out[5]=y*y*t+c,out[6]=z*y*t+x*s,out[7]=0,out[8]=x*z*t+y*s,out[9]=y*z*t-x*s,out[10]=z*z*t+c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out)}function fromXRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=c,out[6]=s,out[7]=0,out[8]=0,out[9]=-s,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromYRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=0,out[2]=-s,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=s,out[9]=0,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromZRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=0,out[4]=-s,out[5]=c,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotationTranslation(out,q,v){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-(yy+zz),out[1]=xy+wz,out[2]=xz-wy,out[3]=0,out[4]=xy-wz,out[5]=1-(xx+zz),out[6]=yz+wx,out[7]=0,out[8]=xz+wy,out[9]=yz-wx,out[10]=1-(xx+yy),out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromQuat2(out,a){var translation=new ARRAY_TYPE(3),bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],magnitude=bx*bx+by*by+bz*bz+bw*bw;return magnitude>0?(translation[0]=2*(ax*bw+aw*bx+ay*bz-az*by)/magnitude,translation[1]=2*(ay*bw+aw*by+az*bx-ax*bz)/magnitude,translation[2]=2*(az*bw+aw*bz+ax*by-ay*bx)/magnitude):(translation[0]=2*(ax*bw+aw*bx+ay*bz-az*by),translation[1]=2*(ay*bw+aw*by+az*bx-ax*bz),translation[2]=2*(az*bw+aw*bz+ax*by-ay*bx)),fromRotationTranslation(out,a,translation),out}function getTranslation(out,mat){return out[0]=mat[12],out[1]=mat[13],out[2]=mat[14],out}function getScaling(out,mat){var m11=mat[0],m12=mat[1],m13=mat[2],m21=mat[4],m22=mat[5],m23=mat[6],m31=mat[8],m32=mat[9],m33=mat[10];return out[0]=Math.sqrt(m11*m11+m12*m12+m13*m13),out[1]=Math.sqrt(m21*m21+m22*m22+m23*m23),out[2]=Math.sqrt(m31*m31+m32*m32+m33*m33),out}function getRotation(out,mat){var trace=mat[0]+mat[5]+mat[10],S=0;return trace>0?(S=2*Math.sqrt(trace+1),out[3]=.25*S,out[0]=(mat[6]-mat[9])/S,out[1]=(mat[8]-mat[2])/S,out[2]=(mat[1]-mat[4])/S):mat[0]>mat[5]&&mat[0]>mat[10]?(S=2*Math.sqrt(1+mat[0]-mat[5]-mat[10]),out[3]=(mat[6]-mat[9])/S,out[0]=.25*S,out[1]=(mat[1]+mat[4])/S,out[2]=(mat[8]+mat[2])/S):mat[5]>mat[10]?(S=2*Math.sqrt(1+mat[5]-mat[0]-mat[10]),out[3]=(mat[8]-mat[2])/S,out[0]=(mat[1]+mat[4])/S,out[1]=.25*S,out[2]=(mat[6]+mat[9])/S):(S=2*Math.sqrt(1+mat[10]-mat[0]-mat[5]),out[3]=(mat[1]-mat[4])/S,out[0]=(mat[8]+mat[2])/S,out[1]=(mat[6]+mat[9])/S,out[2]=.25*S),out}function fromRotationTranslationScale(out,q,v,s){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromRotationTranslationScaleOrigin(out,q,v,s,o){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2],ox=o[0],oy=o[1],oz=o[2],out0=(1-(yy+zz))*sx,out1=(xy+wz)*sx,out2=(xz-wy)*sx,out4=(xy-wz)*sy,out5=(1-(xx+zz))*sy,out6=(yz+wx)*sy,out8=(xz+wy)*sz,out9=(yz-wx)*sz,out10=(1-(xx+yy))*sz;return out[0]=out0,out[1]=out1,out[2]=out2,out[3]=0,out[4]=out4,out[5]=out5,out[6]=out6,out[7]=0,out[8]=out8,out[9]=out9,out[10]=out10,out[11]=0,out[12]=v[0]+ox-(out0*ox+out4*oy+out8*oz),out[13]=v[1]+oy-(out1*ox+out5*oy+out9*oz),out[14]=v[2]+oz-(out2*ox+out6*oy+out10*oz),out[15]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[1]=yx+wz,out[2]=zx-wy,out[3]=0,out[4]=yx-wz,out[5]=1-xx-zz,out[6]=zy+wx,out[7]=0,out[8]=zx+wy,out[9]=zy-wx,out[10]=1-xx-yy,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function frustum(out,left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return out[0]=2*near*rl,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=2*near*tb,out[6]=0,out[7]=0,out[8]=(right+left)*rl,out[9]=(top+bottom)*tb,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near*2*nf,out[15]=0,out}function perspective(out,fovy,aspect,near,far){var nf,f=1/Math.tan(fovy/2);return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[11]=-1,out[12]=0,out[13]=0,out[15]=0,null!=far&&far!==1/0?(nf=1/(near-far),out[10]=(far+near)*nf,out[14]=2*far*near*nf):(out[10]=-1,out[14]=-2*near),out}function perspectiveFromFieldOfView(out,fov,near,far){var upTan=Math.tan(fov.upDegrees*Math.PI/180),downTan=Math.tan(fov.downDegrees*Math.PI/180),leftTan=Math.tan(fov.leftDegrees*Math.PI/180),rightTan=Math.tan(fov.rightDegrees*Math.PI/180),xScale=2/(leftTan+rightTan),yScale=2/(upTan+downTan);return out[0]=xScale,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=yScale,out[6]=0,out[7]=0,out[8]=-(leftTan-rightTan)*xScale*.5,out[9]=(upTan-downTan)*yScale*.5,out[10]=far/(near-far),out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near/(near-far),out[15]=0,out}function ortho(out,left,right,bottom,top,near,far){var lr=1/(left-right),bt=1/(bottom-top),nf=1/(near-far);return out[0]=-2*lr,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=-2*bt,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=2*nf,out[11]=0,out[12]=(left+right)*lr,out[13]=(top+bottom)*bt,out[14]=(far+near)*nf,out[15]=1,out}function lookAt(out,eye,center,up){var x0,x1,x2,y0,y1,y2,z0,z1,z2,len,eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],centerx=center[0],centery=center[1],centerz=center[2];return Math.abs(eyex-centerx)<EPSILON&&Math.abs(eyey-centery)<EPSILON&&Math.abs(eyez-centerz)<EPSILON?identity(out):(z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,x0=upy*(z2*=len=1/Math.sqrt(z0*z0+z1*z1+z2*z2))-upz*(z1*=len),x1=upz*(z0*=len)-upx*z2,x2=upx*z1-upy*z0,(len=Math.sqrt(x0*x0+x1*x1+x2*x2))?(x0*=len=1/len,x1*=len,x2*=len):(x0=0,x1=0,x2=0),y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0,(len=Math.sqrt(y0*y0+y1*y1+y2*y2))?(y0*=len=1/len,y1*=len,y2*=len):(y0=0,y1=0,y2=0),out[0]=x0,out[1]=y0,out[2]=z0,out[3]=0,out[4]=x1,out[5]=y1,out[6]=z1,out[7]=0,out[8]=x2,out[9]=y2,out[10]=z2,out[11]=0,out[12]=-(x0*eyex+x1*eyey+x2*eyez),out[13]=-(y0*eyex+y1*eyey+y2*eyez),out[14]=-(z0*eyex+z1*eyey+z2*eyez),out[15]=1,out)}function targetTo(out,eye,target,up){var eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],z0=eyex-target[0],z1=eyey-target[1],z2=eyez-target[2],len=z0*z0+z1*z1+z2*z2;len>0&&(z0*=len=1/Math.sqrt(len),z1*=len,z2*=len);var x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0;return(len=x0*x0+x1*x1+x2*x2)>0&&(x0*=len=1/Math.sqrt(len),x1*=len,x2*=len),out[0]=x0,out[1]=x1,out[2]=x2,out[3]=0,out[4]=z1*x2-z2*x1,out[5]=z2*x0-z0*x2,out[6]=z0*x1-z1*x0,out[7]=0,out[8]=z0,out[9]=z1,out[10]=z2,out[11]=0,out[12]=eyex,out[13]=eyey,out[14]=eyez,out[15]=1,out}function str(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out[9]=a[9]+b[9],out[10]=a[10]+b[10],out[11]=a[11]+b[11],out[12]=a[12]+b[12],out[13]=a[13]+b[13],out[14]=a[14]+b[14],out[15]=a[15]+b[15],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out[9]=a[9]-b[9],out[10]=a[10]-b[10],out[11]=a[11]-b[11],out[12]=a[12]-b[12],out[13]=a[13]-b[13],out[14]=a[14]-b[14],out[15]=a[15]-b[15],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out[9]=a[9]*b,out[10]=a[10]*b,out[11]=a[11]*b,out[12]=a[12]*b,out[13]=a[13]*b,out[14]=a[14]*b,out[15]=a[15]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out[9]=a[9]+b[9]*scale,out[10]=a[10]+b[10]*scale,out[11]=a[11]+b[11]*scale,out[12]=a[12]+b[12]*scale,out[13]=a[13]+b[13]*scale,out[14]=a[14]+b[14]*scale,out[15]=a[15]+b[15]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function mat4_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],a9=a[9],a10=a[10],a11=a[11],a12=a[12],a13=a[13],a14=a[14],a15=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))&&Math.abs(a9-b9)<=EPSILON*Math.max(1,Math.abs(a9),Math.abs(b9))&&Math.abs(a10-b10)<=EPSILON*Math.max(1,Math.abs(a10),Math.abs(b10))&&Math.abs(a11-b11)<=EPSILON*Math.max(1,Math.abs(a11),Math.abs(b11))&&Math.abs(a12-b12)<=EPSILON*Math.max(1,Math.abs(a12),Math.abs(b12))&&Math.abs(a13-b13)<=EPSILON*Math.max(1,Math.abs(a13),Math.abs(b13))&&Math.abs(a14-b14)<=EPSILON*Math.max(1,Math.abs(a14),Math.abs(b14))&&Math.abs(a15-b15)<=EPSILON*Math.max(1,Math.abs(a15),Math.abs(b15))}__webpack_require__.d(__webpack_exports__,"create",function(){return create}),__webpack_require__.d(__webpack_exports__,"clone",function(){return clone}),__webpack_require__.d(__webpack_exports__,"copy",function(){return copy}),__webpack_require__.d(__webpack_exports__,"fromValues",function(){return fromValues}),__webpack_require__.d(__webpack_exports__,"set",function(){return set}),__webpack_require__.d(__webpack_exports__,"identity",function(){return identity}),__webpack_require__.d(__webpack_exports__,"transpose",function(){return transpose}),__webpack_require__.d(__webpack_exports__,"invert",function(){return invert}),__webpack_require__.d(__webpack_exports__,"adjoint",function(){return adjoint}),__webpack_require__.d(__webpack_exports__,"determinant",function(){return determinant}),__webpack_require__.d(__webpack_exports__,"multiply",function(){return multiply}),__webpack_require__.d(__webpack_exports__,"translate",function(){return translate}),__webpack_require__.d(__webpack_exports__,"scale",function(){return scale}),__webpack_require__.d(__webpack_exports__,"rotate",function(){return rotate}),__webpack_require__.d(__webpack_exports__,"rotateX",function(){return rotateX}),__webpack_require__.d(__webpack_exports__,"rotateY",function(){return rotateY}),__webpack_require__.d(__webpack_exports__,"rotateZ",function(){return rotateZ}),__webpack_require__.d(__webpack_exports__,"fromTranslation",function(){return fromTranslation}),__webpack_require__.d(__webpack_exports__,"fromScaling",function(){return fromScaling}),__webpack_require__.d(__webpack_exports__,"fromRotation",function(){return fromRotation}),__webpack_require__.d(__webpack_exports__,"fromXRotation",function(){return fromXRotation}),__webpack_require__.d(__webpack_exports__,"fromYRotation",function(){return fromYRotation}),__webpack_require__.d(__webpack_exports__,"fromZRotation",function(){return fromZRotation}),__webpack_require__.d(__webpack_exports__,"fromRotationTranslation",function(){return fromRotationTranslation}),__webpack_require__.d(__webpack_exports__,"fromQuat2",function(){return fromQuat2}),__webpack_require__.d(__webpack_exports__,"getTranslation",function(){return getTranslation}),__webpack_require__.d(__webpack_exports__,"getScaling",function(){return getScaling}),__webpack_require__.d(__webpack_exports__,"getRotation",function(){return getRotation}),__webpack_require__.d(__webpack_exports__,"fromRotationTranslationScale",function(){return fromRotationTranslationScale}),__webpack_require__.d(__webpack_exports__,"fromRotationTranslationScaleOrigin",function(){return fromRotationTranslationScaleOrigin}),__webpack_require__.d(__webpack_exports__,"fromQuat",function(){return fromQuat}),__webpack_require__.d(__webpack_exports__,"frustum",function(){return frustum}),__webpack_require__.d(__webpack_exports__,"perspective",function(){return perspective}),__webpack_require__.d(__webpack_exports__,"perspectiveFromFieldOfView",function(){return perspectiveFromFieldOfView}),__webpack_require__.d(__webpack_exports__,"ortho",function(){return ortho}),__webpack_require__.d(__webpack_exports__,"lookAt",function(){return lookAt}),__webpack_require__.d(__webpack_exports__,"targetTo",function(){return targetTo}),__webpack_require__.d(__webpack_exports__,"str",function(){return str}),__webpack_require__.d(__webpack_exports__,"frob",function(){return frob}),__webpack_require__.d(__webpack_exports__,"add",function(){return add}),__webpack_require__.d(__webpack_exports__,"subtract",function(){return subtract}),__webpack_require__.d(__webpack_exports__,"multiplyScalar",function(){return multiplyScalar}),__webpack_require__.d(__webpack_exports__,"multiplyScalarAndAdd",function(){return multiplyScalarAndAdd}),__webpack_require__.d(__webpack_exports__,"exactEquals",function(){return exactEquals}),__webpack_require__.d(__webpack_exports__,"equals",function(){return mat4_equals}),__webpack_require__.d(__webpack_exports__,"mul",function(){return mul}),__webpack_require__.d(__webpack_exports__,"sub",function(){return sub});var mul=multiply,sub=subtract}]);
//# sourceMappingURL=d1499def4acb8a181455.worker.js.map